(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{Lxou:function(e,t,o){"use strict";o.r(t);var a=o("wx14"),n=o("rePB"),l=o("q1tI"),i=o.n(l),s=(o("YFqc"),o("/MKj")),r=o("GE9s"),c=o("nOHt"),u=o("FGyW"),d=o("6QH/"),m=o("m9Y6"),p=(o("Npp4"),o("kLkQ"),o("TVAx"),o("HhnA")),b=o("baJl"),v=o("/ANM"),h=o("UGp+"),_=o("KZYA"),f=o("x2Pk"),g=o("X8Wk"),N=o("uR58"),y=i.a.createElement;function O(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function k(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?O(Object(o),!0).forEach((function(t){Object(n.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):O(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}t.default=function(){var e,t,o,n=Object(l.useContext)(N.a),O=n.lang,w=(n.dispatchLang,h.a().shape({phone:h.b().required("Telefon nomer bolmaly").min(8,"Minimum 8 simbol bolmaly").max(8,"Maxsimum 8 simbol bolmaly").matches(/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,"Dine san bolmaly!"),name:h.b().required("Hokman bolmaly").min(3,"Minimum 3 simbol bolmaly").max(50,"Maxsimum 50 simbol bolmaly")})),j=Object(r.d)({resolver:Object(_.a)(w)}),S=j.register,x=j.handleSubmit,T=j.formState.errors,P=(j.setError,Object(l.useState)()),E=P[0],M=P[1],D=Object(s.b)(),q=Object(s.c)(b.b),A=Object(s.c)(b.d),C=Object(c.useRouter)();function H(e){var t=0;return null===e||void 0===e||e.forEach((function(e){return t+=e.price*e.count})),t}console.log(q,"----sebetRedux");return y(d.a,{title:"Sharafyabi | Checkout"},y(m.a,{title:g.a[O].checkout_title},y(m.b,{name:g.a[O].home}),y(m.b,{name:g.a[O].shop}),y(m.b,{name:g.a[O].checkout_title,current:!0})),y("div",{className:"checkout"},y("div",{className:"container"},y("div",{className:"row"},y("div",{className:"col-12  col-lg-8"},y("form",null,y("div",{className:"checkout__form"},y("div",{className:"checkout__form__shipping"},y("h5",{className:"checkout-title"},g.a[O].shipping_address),y("div",{className:"row"},y("div",{className:"col-12"},y("div",{className:"input-validator"},y("label",null,"Name ",y("span",null,"*"),y("input",Object(a.a)({type:"text",name:"name",placeholder:"Name",className:(null===T||void 0===T?void 0:T.name)?"border_input":""},S("name")))),(null===T||void 0===T?void 0:T.name)&&y("span",{className:"input-error"},null===T||void 0===T?void 0:null===(e=T.name)||void 0===e?void 0:e.message))),y("div",{className:"col-12"},y("div",{className:"input-validator",style:{position:"relative"}},y("div",{className:(null===T||void 0===T?void 0:null===(t=T.phone)||void 0===t?void 0:t.message.length)>0?"input_993_error ml-2":"input_993 ml-2"},"+993"),y("label",null,"Phone ",y("span",null,"*"),y("input",Object(a.a)({type:"text",name:"phone"},S("phone"),{style:{paddingLeft:"3.5rem"},className:(null===T||void 0===T?void 0:T.phone)?"border_input":"",placeholder:"_ _   _ _ _ _ _ _"}))),(null===T||void 0===T?void 0:T.phone)&&y("span",{className:"input-error"},null===T||void 0===T?void 0:null===(o=T.phone)||void 0===o?void 0:o.message))),y("div",{className:"col-12"},y("div",{className:"input-validator"},y("label",null,"Address ",y("span",null),y("input",Object(a.a)({type:"text",name:"address"},S("address"),{placeholder:"Steet address"})))))))))),y("div",{className:"col-12 col-lg-4"},y("div",{className:"row"},y("div",{className:"col-12 col-md-6 col-lg-12 ml-auto"},y("div",{className:"checkout__total"},y("h5",{className:"checkout-title"},g.a[O].your_order),y("form",{className:"checkout__total__coupon"},y("h5",null,g.a[O].coupon_code),y("div",{className:"input-validator"},y("input",Object(a.a)({type:"text",placeholder:g.a[O].coupon_here,name:"coupon"},S("coupon"))),T.coupon&&y("span",{className:"input-error"},"Please provide your Coupon Code"))),y("div",{className:"checkout__total__price"},y("div",{className:"checkout__total__price__total-count"},y("table",null,y("tbody",null,y("tr",null,y("td",null,g.a[O].subTotal),y("td",null,H(q)," TMT")),y("tr",null,y("td",null,g.a[O].sum),y("td",null,H(q)," TMT")))))),y("button",{className:"btn -red",onClick:x((function(e){M(!0),e=k(k({},e),{},{user_id:null===A||void 0===A?void 0:A.id,products:q}),console.log(e,"---checkout"),Object(p.b)({url:"".concat(O,"/create-order"),data:e,action:function(e){e.success?(console.log("get_order ",e),localStorage.setItem("sebet",JSON.stringify([])),D(Object(v.e)({sebet:[]})),u.b.success("Zakazynyz kabul edildi!"),C.push("/"),M(!1)):(console.log("error_order ",e),u.b.error("Zakazynyz kabul edilmedi!"),M(!1))}})}))},E?y(f.a,{type:"button"}):y(i.a.Fragment,null,g.a[O].place_order))))))))))}},Npp4:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var a=o("q1tI"),n=o.n(a),l=o("HhnA"),i=o("OS56"),s=o.n(i),r=n.a.createElement;function c(){var e=Object(a.useState)([]),t=e[0],o=e[1];Object(a.useEffect)((function(){Object(l.a)({url:"tm/get-producers",token:"",action:function(e){var t;e.success&&o(null===e||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.rows)}})}),[]);return r("div",{className:"instagram-two"},r(s.a,{dots:!1,arrows:!1,slidesToShow:6,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,responsive:[{breakpoint:1800,settings:{slidesToShow:5}},{breakpoint:1200,settings:{slidesToShow:4}},{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:576,settings:{slidesToShow:2}}]},null===t||void 0===t?void 0:t.map((function(e){return r("a",{key:e.id,href:"/shop/products?search=&page=1&limit=20&category_id=&producer_id=[".concat(null===e||void 0===e?void 0:e.id,"]&min_price=&max_price=&recomended=&new_in_come=&sort_column=&sort_direction="),className:"slider-item"},null!=(null===e||void 0===e?void 0:e.destination)?r("img",{src:"https://sharafyabi.com/".concat(null===e||void 0===e?void 0:e.destination,"-mini.webp"),alt:"image"}):r("img",{src:"/assets/images/instagram/InstagramTwo/1.png",alt:"image"}))}))))}},Z1mD:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shop/checkout",function(){return o("Lxou")}])},m9Y6:function(e,t,o){"use strict";o.d(t,"b",(function(){return l})),o.d(t,"a",(function(){return i}));var a=o("q1tI"),n=o.n(a).a.createElement,l=function(e){var t=e.name,o=e.current;return n("li",{className:o&&"active"},t)},i=function(e){var t=e.title,o=e.children;return n("div",{className:"breadcrumb"},n("div",{className:"container"},n("h2",null,t),n("ul",null,o)))}}},[["Z1mD",0,2,1,4,3,6,5,7,8,9,10,12,14]]]);