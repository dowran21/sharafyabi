(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{Lxou:function(e,t,o){"use strict";o.r(t);var l=o("wx14"),n=o("rePB"),a=o("q1tI"),i=o.n(a),r=(o("YFqc"),o("/MKj")),s=o("GE9s"),c=o("nOHt"),u=o("FGyW"),d=o("6QH/"),m=o("m9Y6"),p=(o("Npp4"),o("kLkQ")),b=(o("TVAx"),o("HhnA")),v=o("baJl"),h=o("/ANM"),f=o("UGp+"),_=o("KZYA"),N=i.a.createElement;function g(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,l)}return o}function y(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?g(Object(o),!0).forEach((function(t){Object(n.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}t.default=function(){var e,t,o,n=f.a().shape({phone:f.b().required("Telefon nomer bolmaly").min(8,"Minimum 8 simbol bolmaly").max(8,"Maxsimum 8 simbol bolmaly").matches(/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,"Dine san bolmaly!"),name:f.b().required("Hokman bolmaly").min(3,"Minimum 3 simbol bolmaly").max(50,"Maxsimum 50 simbol bolmaly")}),a=Object(s.d)({resolver:Object(_.a)(n)}),i=a.register,g=a.handleSubmit,O=a.formState.errors,j=(a.setError,Object(r.b)()),k=Object(r.c)(v.b),w=Object(r.c)(v.d),S=Object(c.useRouter)();function P(e){var t=0;return null===e||void 0===e||e.forEach((function(e){return t+=e.price*e.count})),t}console.log(k,"----sebetRedux");return N(d.a,{title:"Sharafyabi | Checkout"},N(m.a,{title:"Checkout"},N(m.b,{name:"Home"}),N(m.b,{name:"Shop"}),N(m.b,{name:"Checkout",current:!0})),N("div",{className:"checkout"},N("div",{className:"container"},N("div",{className:"row"},N("div",{className:"col-12  col-lg-8"},N("form",null,N("div",{className:"checkout__form"},N("div",{className:"checkout__form__shipping"},N("h5",{className:"checkout-title"},"Shipping address"),N("div",{className:"row"},N("div",{className:"col-12"},N("div",{className:"input-validator"},N("label",null,"Name ",N("span",null,"*"),N("input",Object(l.a)({type:"text",name:"name",placeholder:"Name",className:(null===O||void 0===O?void 0:O.name)?"border_input":""},i("name")))),(null===O||void 0===O?void 0:O.name)&&N("span",{className:"input-error"},null===O||void 0===O?void 0:null===(e=O.name)||void 0===e?void 0:e.message))),N("div",{className:"col-12"},N("div",{className:"input-validator",style:{position:"relative"}},N("div",{className:(null===O||void 0===O?void 0:null===(t=O.phone)||void 0===t?void 0:t.message.length)>0?"input_993_error":"input_993"},"+993"),N("label",null,"Phone ",N("span",null,"*"),N("input",Object(l.a)({type:"text",name:"phone"},i("phone"),{style:{paddingLeft:"3rem"},className:(null===O||void 0===O?void 0:O.phone)?"border_input":"",placeholder:"_ _   _ _ _ _ _ _"}))),(null===O||void 0===O?void 0:O.phone)&&N("span",{className:"input-error"},null===O||void 0===O?void 0:null===(o=O.phone)||void 0===o?void 0:o.message))),N("div",{className:"col-12"},N("div",{className:"input-validator"},N("label",null,"Address ",N("span",null),N("input",Object(l.a)({type:"text",name:"address"},i("address"),{placeholder:"Steet address"})))))))))),N("div",{className:"col-12 col-lg-4"},N("div",{className:"row"},N("div",{className:"col-12 col-md-6 col-lg-12 ml-auto"},N("div",{className:"checkout__total"},N("h5",{className:"checkout-title"},"Your order"),N("form",{className:"checkout__total__coupon"},N("h5",null,"Coupon Code"),N("div",{className:"input-validator"},N("input",Object(l.a)({type:"text",placeholder:"Your code here",name:"coupon"},i("coupon"))),O.coupon&&N("span",{className:"input-error"},"Please provide your Coupon Code"))),N("div",{className:"checkout__total__price"},N("h5",null,"Product"),N("table",null,N("colgroup",null,N("col",{style:{width:"70%"}}),N("col",{style:{width:"30%"}})),N("tbody",null,null===k||void 0===k?void 0:k.map((function(e){return N("tr",{key:e.id},N("td",null,N("span",null,Object(p.c)(e.count))," ","x ",e.name),N("td",null,Object(p.b)(e.price*e.count)))})))),N("div",{className:"checkout__total__price__total-count"},N("table",null,N("tbody",null,N("tr",null,N("td",null,"Subtotal"),N("td",null,Object(p.b)(P(k)))),N("tr",null,N("td",null,"Total"),N("td",null,Object(p.b)(P(k)))))))),N("button",{className:"btn -red",onClick:g((function(e){e=y(y({},e),{},{user_id:null===w||void 0===w?void 0:w.id,products:k}),console.log(e,"---checkout"),Object(b.b)({url:"tm/create-order",data:e,action:function(e){e.success?(console.log("get_order ",e),localStorage.setItem("sebet",JSON.stringify([])),j(Object(h.e)({sebet:[]})),u.b.success("Zakazynyz kabul edildi!"),S.push("/")):(console.log("error_order ",e),u.b.error("Zakazynyz kabul edilmedi!"))}})}))},"Place order")))))))))}},Npp4:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var l=o("q1tI"),n=o.n(l),a=o("HhnA"),i=o("OS56"),r=o.n(i),s=n.a.createElement;function c(){var e=Object(l.useState)([]),t=e[0],o=e[1];Object(l.useEffect)((function(){Object(a.a)({url:"tm/get-producers",token:"",action:function(e){var t;e.success?o(null===e||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.rows):console.log("error_brends ",e)}})}),[]);return s("div",{className:"instagram-two"},s(r.a,{dots:!1,arrows:!1,slidesToShow:6,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,responsive:[{breakpoint:1800,settings:{slidesToShow:5}},{breakpoint:1200,settings:{slidesToShow:4}},{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:576,settings:{slidesToShow:2}}]},null===t||void 0===t?void 0:t.map((function(e){return s("a",{key:e.id,href:"/shop/products?producer_id=".concat(null===e||void 0===e?void 0:e.id),className:"slider-item"},null!=(null===e||void 0===e?void 0:e.destination)?s("img",{src:"http://141.136.44.174:7010/".concat(null===e||void 0===e?void 0:e.destination,"-mini.webp"),alt:"image"}):s("img",{src:"/assets/images/instagram/InstagramTwo/1.png",alt:"image"}))}))))}},Z1mD:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shop/checkout",function(){return o("Lxou")}])},m9Y6:function(e,t,o){"use strict";o.d(t,"b",(function(){return a})),o.d(t,"a",(function(){return i}));var l=o("q1tI"),n=o.n(l).a.createElement,a=function(e){var t=e.name,o=e.current;return n("li",{className:o&&"active"},t)},i=function(e){var t=e.title,o=e.children;return n("div",{className:"breadcrumb"},n("div",{className:"container"},n("h2",null,t),n("ul",null,o)))}}},[["Z1mD",0,2,1,3,4,6,5,7,8,9,10,13]]]);