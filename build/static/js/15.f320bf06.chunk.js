(this.webpackJsonpgamysh=this.webpackJsonpgamysh||[]).push([[15],{109:function(e,t,c){"use strict";var s=c(135),i=c(2);t.a=function(e){var t=e.limit,c=e.setLimit,a=e.setPage,n=e.count,l=e.page;return Object(i.jsxs)("div",{className:"relative flex flex-row w-full justify-between px-2",children:[Object(i.jsx)("div",{}),Object(i.jsx)(s.a,{pageSize:t,current:l+1,className:"",total:n,showTotal:function(e,t){return Object(i.jsx)("div",{className:"hidden md:flex absolute top-0 left-2",children:"".concat(t[0]," - ").concat(t[1]," \u0438\u0437 ").concat(e)})},onChange:function(e){return a(e-1)}}),Object(i.jsxs)("select",{className:"focus:outline-none p-1",value:t,onChange:function(e){return c(e.target.value)},children:[Object(i.jsx)("option",{value:10,children:"10"}),Object(i.jsx)("option",{value:20,children:"20"}),Object(i.jsx)("option",{value:30,children:"30"}),Object(i.jsx)("option",{value:40,children:"40"}),Object(i.jsx)("option",{value:50,children:"50"})]})]})}},278:function(e,t,c){var s=c(79).GenIcon;e.exports.GoChecklist=function(e){return s({tag:"svg",attr:{viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M16 8.5l-6 6-3-3L8.5 10l1.5 1.5L14.5 7 16 8.5zM5.7 12.2l.8.8H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h7c.55 0 1 .45 1 1v6.5l-.8-.8c-.39-.39-1.03-.39-1.42 0L5.7 10.8a.996.996 0 0 0 0 1.41v-.01zM4 4h5V3H4v1zm0 2h5V5H4v1zm0 2h3V7H4v1zM3 9H2v1h1V9zm0-2H2v1h1V7zm0-2H2v1h1V5zm0-2H2v1h1V3z"}}]})(e)}},279:function(e,t,c){var s=c(79).GenIcon;e.exports.BiPrinter=function(e){return s({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19,7h-1V2H6v5H5c-1.654,0-3,1.346-3,3v7c0,1.103,0.897,2,2,2h2v3h12v-3h2c1.103,0,2-0.897,2-2v-7C22,8.346,20.654,7,19,7 z M8,4h8v3H8V4z M16,20H8v-4h8V20z M20,17h-2v-1v-2H6v2v1H4v-7c0-0.551,0.449-1,1-1h14c0.552,0,1,0.449,1,1V17z"}},{tag:"path",attr:{d:"M14 10H18V12H14z"}}]})(e)}},292:function(e,t,c){"use strict";c.r(t);var s=c(3),i=c.n(s),a=c(10),n=c(12),l=c(9),r=c(85),j=c(83),d=c(0),o=c(13),x=c(80),u=c(16),b=c(90),h=c(91),O=c(93),m=c(89),p=c(92),f=c(14),v=c(108),y=c(279),g=c(278),w=c(86),N=c(2);var _=function(e){var t=e.visible,c=e.values,s=e.setCloseModal,i=e.token,a=Object(o.b)(),l=Object(d.useState)([]),r=Object(n.a)(l,2),j=r[0],u=r[1];return Object(d.useEffect)((function(){console.log(c),c.id&&(console.log("I am in if "),a(Object(x.a)({url:"api/admin/get-order/".concat(c.id),token:i,action:function(e){e.success?u(e.data.rows):f.b.error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430")}})))}),[c]),Object(d.useEffect)((function(){console.log(j)}),[j]),Object(N.jsx)(w.a,{size:"md",visible:t,setCloseModal:function(){return s()},title:"\u0417\u0430\u043a\u0430\u0437 \u2116".concat(c.id),children:Object(N.jsxs)("div",{className:"min-w-600 flex flex-col",children:[Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"flex flex-row p-1 justify-between items-center",children:[Object(N.jsx)("p",{children:"\u0417\u0430\u043a\u0430\u0437 \u043e\u0442: "})," ",Object(N.jsx)("p",{children:c.name})]}),Object(N.jsxs)("div",{className:"flex flex-row p-1 justify-between items-center",children:[Object(N.jsx)("p",{children:"\u041d\u043e\u043c\u0435\u0440 \u0417\u0430\u043a\u0430\u0437\u0430:"})," ",Object(N.jsx)("p",{children:c.id})]}),Object(N.jsxs)("div",{className:"flex flex-row p-1 justify-between items-center ",children:[Object(N.jsx)("p",{children:"\u043e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430:"})," ",Object(N.jsx)("p",{children:c.total_price})]}),Object(N.jsxs)("div",{className:"flex flex-row p-1 justify-between items-center ",children:[Object(N.jsx)("p",{children:"\u0412\u0440\u0435\u043c\u044f \u0437\u0430\u043a\u0430\u0437\u0430:"})," ",Object(N.jsx)("p",{children:c.created_at})]}),Object(N.jsxs)("div",{className:"flex flex-row p-1 justify-between items-center ",children:[Object(N.jsx)("p",{children:"\u0421\u043a\u0438\u0434\u043a\u0430:"})," ",Object(N.jsxs)("p",{children:[c.discount_value," %"]})]}),Object(N.jsxs)("div",{className:"flex flex-row p-1 justify-between items-center ",children:[Object(N.jsx)("p",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440:"})," ",Object(N.jsxs)("p",{children:[c.phone," "]})]})]}),Object(N.jsx)("div",{children:Object(N.jsxs)(b.a,{children:[Object(N.jsx)(h.a,{children:Object(N.jsx)(O.a,{children:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:" px-2 py-4 text-sm font-medium flex flex-row justify-start items-center ",children:"\u0418\u043c\u044f"})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:" px-2 py-4 text-sm font-medium flex flex-row justify-start items-center ",children:"\u0426\u0435\u043d\u0430"})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:" px-2 py-4 text-sm font-medium flex flex-row justify-start items-center ",children:"\u0421\u043a\u0438\u0434\u043a\u0430 (%)"})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:" px-2 py-4 text-sm font-medium flex flex-row justify-start items-center ",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:" px-2 py-4 text-sm font-medium flex flex-row justify-start items-center ",children:"\u0421\u0443\u043c\u043c\u0430"})})]})})}),Object(N.jsx)(p.a,{children:(null===j||void 0===j?void 0:j.length)>0?null===j||void 0===j?void 0:j.map((function(e){return Object(N.jsx)(O.a,{children:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:"p-1",children:e.name?e.name:e.name_ru})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:"p-1",children:e.price})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:"p-1",children:e.discount_value?e.discount_value:"\u043d\u0435\u0442"})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:"p-1",children:e.quantity})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:"p-1",children:e.discount_value?e.price*e.discount_value*e.quantity*.01:e.price*e.quantity})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:"p-1"})})]})})})):Object(N.jsx)(N.Fragment,{})})]})})]})})},E=c(109);function H(e,t){switch(console.log(t),t.type){case"SET_LOADING":return Object(l.a)(Object(l.a)({},e),{},{loading:t.payload});case"SET_DATA":return Object(l.a)(Object(l.a)({},e),{},{data:t.payload.orders,count:+t.payload.count});case"CLOSE_MODAL":return Object(l.a)(Object(l.a)({},e),{},{visible:!1});case"SHOW_ITEMS":return Object(l.a)(Object(l.a)({},e),{},{values:t.payload,visible:!0});case"SET_LIMIT":return Object(l.a)(Object(l.a)({},e),{},{limit:t.payload,page:0,trigger:!e.trigger,loading:!0});case"SET_PAGE":return Object(l.a)(Object(l.a)({},e),{},{page:t.payload,trigger:!e.trigger,loading:!0});default:return e}}t.default=function(){var e,t=Object(d.useReducer)(H,{loading:!1,data:[],visible:!1,values:"",page:0,limit:20}),c=Object(n.a)(t,2),s=c[0],l=c[1],w=Object(o.b)(),M=Object(o.c)((function(e){return e.auth.token}));Object(d.useEffect)((function(){w(Object(x.a)({url:"api/admin/get-orders?page=".concat(s.page,"&limit=").concat(s.limit),token:M,action:function(e){e.success?(console.log(e.data.rows),l({type:"SET_DATA",payload:e.data.rows})):(l({type:"SET_LOADING",payload:!1}),f.b.error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430"))}}))}),[s.trigger]);var S=function(){var e=Object(a.a)(i.a.mark((function e(t){var c,s,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(Object(x.a)({url:"/api/admin/generate-pdf/".concat(t),token:M,action:function(e){if(e.success){var t=e.data;if(console.log(t.isBase64Encoded),null===t||void 0===t?void 0:t.isBase64Encoded){var c="data:application/pdf;base64,".concat(t.body),s=document.createElement("a");document.body.appendChild(s),window.open("").document.write("<iframe width='100%' height='100%' src='".concat(c,"'></iframe>")),s.parentNode.removeChild(s)}}else f.b.error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430")}})),c={},new Date,console.log(c.isBase64Encoded),(null===c||void 0===c?void 0:c.isBase64Encoded)&&(s="data:application/pdf;base64,".concat(c.body),a=document.createElement("a"),document.body.appendChild(a),window.open("").document.write("<iframe width='100%' height='100%' src='".concat(s,"'></iframe>")),a.parentNode.removeChild(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(r.a,{footer:Object(N.jsx)(E.a,{setPage:function(e){return l({type:"SET_PAGE",payload:e})},limit:+s.limit,count:+s.count,page:s.page,setLimit:function(e){return l({type:"SET_LIMIT",payload:e})}}),children:[Object(N.jsx)(u.a,{loading:s.loading}),Object(N.jsx)(_,{visible:s.visible,setCloseModal:function(){return l({type:"CLOSE_MODAL",payload:!1})},values:s.values,token:M}),Object(N.jsx)("div",{className:"w-full h-full px-6 overflow-y-auto pb-20 ",children:Object(N.jsxs)(b.a,{children:[Object(N.jsx)(h.a,{children:Object(N.jsx)(O.a,{children:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:" px-2 py-4 font-medium flex flex-row justify-start items-center ",children:"\u041d\u043e\u043c\u0435\u0440"})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:" px-2 py-4 font-medium flex flex-row justify-start items-center ",children:"\u041f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044c"})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:" px-2 py-4 font-medium flex flex-row justify-start items-center ",children:"\u0410\u0434\u0434\u0440\u0435\u0441"})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:" px-2 py-4 font-medium flex flex-row justify-start items-center ",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440"})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:" px-2 py-4 font-medium flex flex-row justify-start items-center ",children:"\u0432\u0440\u0435\u043c\u044f"})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:" px-2 py-4 font-medium flex flex-row justify-start items-center ",children:"\u041a\u0443\u043f\u043e\u043d"})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:" px-2 py-4 font-medium flex flex-row justify-start items-center ",children:"\u0421\u0443\u043c\u043c\u0430"})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:" px-2 py-4 font-medium flex flex-row justify-start items-center ",children:"\u0421\u043a\u0438\u0434\u043a\u0430"})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:" px-2 py-4 font-medium flex flex-row justify-start items-center ",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})})]})})}),(null===(e=s.data)||void 0===e?void 0:e.length)>0?Object(N.jsx)(p.a,{children:s.data.map((function(e){return Object(N.jsx)(O.a,{children:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:"p-2",children:e.id})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:"p-2",children:e.name})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:"p-2",children:e.address})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:"p-2",children:e.phone})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:"p-2",children:e.created_at})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:"p-2",children:e.coupon?e.coupon:"\u041d\u0435\u0442 \u043a\u0443\u043f\u043e\u043d\u0430"})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:"p-2",children:e.total_price})}),Object(N.jsx)(m.a,{children:Object(N.jsx)("div",{className:"p-2",children:e.disocunt_value?e.disocunt_value:"\u041d\u0435\u0442 \u0441\u043a\u0438\u0434\u043a\u0438"})}),Object(N.jsxs)("div",{className:"p-2 flex flex-row",children:[Object(N.jsx)(j.a,{tooltip:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c",handleClick:function(){return l({type:"SHOW_ITEMS",payload:e})},icon:Object(N.jsx)(g.GoChecklist,{className:"text-2xl"})}),Object(N.jsx)(j.a,{tooltip:"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c",handleClick:function(){return S(e.id)},icon:Object(N.jsx)(y.BiPrinter,{className:"text-2xl"})})]})]})},e.id)}))}):Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:"10",children:Object(N.jsx)("div",{className:"flex w-full h-full py-20 justify-center items-center",children:Object(N.jsx)(v.a,{title:"\u041d\u0435\u0442 \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439"})})})})]})})]})}}}]);
//# sourceMappingURL=15.f320bf06.chunk.js.map