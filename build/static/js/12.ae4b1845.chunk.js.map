{"version":3,"sources":["components/Pagination.js","../node_modules/@react-icons/all-files/go/GoSearch.js","components/useTimeOut.js","components/SearchInput.js","pages/Products/Form.js","pages/Products/index.js","../node_modules/@react-icons/all-files/io/IoMdAdd.js","../node_modules/@react-icons/all-files/bi/BiEdit.js","../node_modules/@react-icons/all-files/bi/BiTrash.js"],"names":["MyPagination","limit","setLimit","setPage","count","page","className","pageSize","current","total","showTotal","range","onChange","value","e","target","GenIcon","require","module","exports","GoSearch","props","useTimeout","action","time","useState","timeOut","setTime","clearTimeout","setTimeout","SearchInput","placeholder","handleSearch","useTimeOut","type","name","id","schema","form","Yup","shape","name_tm","nullable","min","max","required","description_tm","name_ru","description_ru","name_en","description_en","price","stock","producer_id","category_id","product_id","Form","visible","values","token","setCloseModal","title","addedProduct","setUploadedImage","updateProduct","addSale","producers","setProducers","categories","setCategories","useForm","resolver","yupResolver","defaultValues","register","handleSubmit","errors","formState","watch","reset","setValue","dispatch","useDispatch","useEffect","selectedFile","setSelectedFile","image","setImage","loading","setLoading","del_img","setDelImg","get","url","response","success","data","rows","toast","error","ModalContainer","size","onSubmit","console","log","post","formData","FormData","config","headers","Authorization","append","axiosInstance","then","res","destination","catch","err","autoComplete","discount_value","message","onFocus","currentTarget","onBlur","start_date","end_date","length","map","item","files","URL","createObjectURL","onChangeHandler","alt","src","IconButton","tooltip","handleClick","icon","BiTrash","process","disabled","BgLoader","reducer","state","payload","products","trigger","search","discount_id","low_val","low","upper_val","upper","Header","IoMdAdd","Products","useReducer","setState","useSelector","auth","Layout","header","footer","Table","Head","Row","Cell","Body","producer_name","category_name","BsImage","substring","BiEdit","FcSalesPerformance","colSpan","NoContent"],"mappings":"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","file":"static/js/12.ae4b1845.chunk.js","sourcesContent":["import Pagination from 'rc-pagination';\n\nconst MyPagination = ({limit, setLimit, setPage, count, page}) =>{\n    return (\n        <div className=\"relative flex flex-row w-full justify-between px-2\">\n            <div></div>\n            <Pagination\n                pageSize={limit}\n                current={page + 1}\n                // hideOnSinglePage\n                className=\"\" \n                total={count} \n                showTotal={(total, range) =>\n                    <div className=\"hidden md:flex absolute top-0 left-2\">{`${range[0]} - ${range[1]} из ${total}`}</div>\n                }\n                onChange={(page) => setPage(page - 1)}\n                \n            />\n            <select className=\"focus:outline-none p-1\" value={limit} onChange={(e) => setLimit(e.target.value)}> \n                <option value={10}>\n                    10\n                </option>\n                <option value={20}>\n                    20\n                </option>\n                <option value={30}>\n                    30\n                </option>\n                <option value={40}>\n                    40\n                </option>\n                <option value={50}>\n                    50\n                </option>\n            </select>\n        </div>\n    );\n};\n\nexport default MyPagination;\n\n","// THIS FILE IS AUTO GENERATED\nvar GenIcon = require('../lib').GenIcon\nmodule.exports.GoSearch = function GoSearch (props) {\n  return GenIcon({\"tag\":\"svg\",\"attr\":{\"viewBox\":\"0 0 16 16\"},\"child\":[{\"tag\":\"path\",\"attr\":{\"fillRule\":\"evenodd\",\"d\":\"M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z\"}}]})(props);\n};\n","import {useState} from 'react';\n \nfunction useTimeout({action, time}){\n    const [timeOut, setTime] = useState(0);\n    function handleChange(value){\n        if(timeOut) clearTimeout(timeOut);\n        setTime(\n            setTimeout(() => {action(value)}, time)\n        );\n    }\n    return handleChange;\n}\n \nexport default useTimeout;","import { func, string } from 'prop-types';\nimport useTimeOut from './useTimeOut';\nimport {GoSearch} from \"@react-icons/all-files/go/GoSearch\";\n\n\n \nfunction SearchInput({placeholder, action}){\n    const handleSearch = useTimeOut({time:1500, action:(value) => action(value)});\n    return(\n        <div className=\"relative w-full\">\n            <div className=\"absolute top-1 left-2 inset-y-0 flex items-center pl-1\">\n                <GoSearch className=\"text-xl text-indigo-600\" aria-hidden=\"true\" />\n            </div>\n            <input\n                className=\"pr-4 pl-10 h-10 text-gray-700 rounded-2xl appearance-none w-full bg-white shadow-sm placeholder-gray-400 focus:shadow-inner text-sm focus:outline-none\"\n                onChange={(e) =>handleSearch(e.target.value)} \n                type=\"search\" name=\"search\" id=\"search\" placeholder={placeholder}\n            />\n        </div>\n    );\n};\n \nSearchInput.propTypes = {\n    placeholder:string.isRequired,\n    action:func.isRequired\n}\n \nexport default SearchInput;","import  ModalContainer from \"../../components/ModalContainer\";\nimport { useForm } from \"react-hook-form\";\nimport * as Yup from 'yup';\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {get, post} from \"../../application/middlewares/index.js\"\nimport toast from \"react-hot-toast\";\nimport BgLoader from \"../../components/BgLoader\"\nimport { axiosInstance } from '../../application/api/index'\nimport IconButton from \"../../components/IconButton\";\nimport {BiTrash} from \"@react-icons/all-files/bi/BiTrash\"\n\n\nfunction Form ({visible, values, form, token, setCloseModal, title, addedProduct, setUploadedImage, updateProduct, addSale}){\n    const [producers, setProducers] = useState([]);\n    const [categories, setCategories] = useState([])\n    const {register,  handleSubmit, formState: { errors }, watch, reset, setValue} = useForm({\n        resolver:yupResolver(schema(form)),\n        defaultValues:{...values}\n    })\n\n    const dispatch = useDispatch();\n    \n    const onSubmit = (data) =>{\n        console.log(data)\n        setLoading(true)\n        dispatch(post({\n            url:form === \"add\" ? `api/admin/add-product` : \n                form === \"update\" ? `api/admin/update-product/${values.id}` : \n                form === \"sale\" ? `api/admin/add-sale` : \"\",\n            token,\n            data: data,\n            action: (response) =>{\n                if(response.success){\n                    // console.log(response.data.rows) \n                    if(form===\"add\"){\n                        addedProduct(response.data.rows);\n                    }\n                    if(form === \"update\"){\n                        // console.log(\"I am in if\")\n                        // console.log(response.data.rows)\n                        console.log(\"hello some update\")\n                        updateProduct(response.data.rows)\n                    }\n                    if(form===\"sale\"){\n                        console.log(response.data.rows)\n                        addSale(response.data.rows)\n                    }\n                    if(selectedFile){\n                        const id = form === \"add\" ? response.data.rows.id : values.id\n\n                        const formData = new FormData()\n                        const config = {\n                            headers: {\n                                'Content-Type': 'multipart/form-data',\n                                Authorization: `Bearer ${token}`\n                            },\n                        }\n                        formData.append(\"picture\", selectedFile)\n                        axiosInstance.post(`api/admin/add-product-image/${id}`, formData, config).then(res =>{\n                            console.log(res.data)\n                            if(res){\n                                setUploadedImage({id, \"destination\":res.data.rows.destination})\n                                setCloseModal();\n                                reset({})\n                            }\n                        }).catch(err=>{\n                            toast.error(\"Не смог загрузить фотографию\")\n                        })\n                        reset({})\n                        setSelectedFile(null);\n                        setDelImg(false);\n                        setImage(null)\n                    }else{\n                        setCloseModal()\n                        reset({})\n                        setSelectedFile(null);\n                        setDelImg(false);\n                        setImage(null)\n                    }\n                }else{\n                    toast.error(\"Неизвестная ошибка\");\n                    setCloseModal()\n                    reset({});\n                    setDelImg(false)\n                    setSelectedFile(null);\n                    setImage(null)\n                }\n            }\n        }))\n        setLoading(false)\n        setSelectedFile(null)\n    }\n\n    useEffect(()=>{\n        if(form===\"update\"){\n            setValue(\"name_tm\", values.name_tm);\n            setValue(\"description_tm\", values.description_tm);\n            setValue(\"name_ru\", values.name_ru);\n            setValue(\"description_ru\", values.description_ru);\n            setValue(\"name_en\", values.name_en);\n            setValue(\"description_en\", values.description_en);\n            setValue(\"price\", values.price);\n            setValue(\"stock\", values.stock);\n            setValue(\"category_id\", values.category_id);\n            setValue(\"producer_id\", values.producer_id);\n        }\n        if(form === \"sale\"){\n            // console.log(\"hello\")\n            setValue(\"product_id\", values.id);\n            // console.log(values.id)\n            setValue(\"discount_type_id\", 1)\n            setValue(\"min_value\", 1)\n        }\n    }, [form]) // eslint-disable-line react-hooks/exhaustive-deps\n\n    const [selectedFile, setSelectedFile] = useState()\n    const [image, setImage] = useState()\n    const [loading, setLoading] = useState(false)\n    const [del_img, setDelImg] = useState(false)\n\n    const onChangeHandler = (e) =>{\n        setSelectedFile(e.target.files[0])\n        setImage(URL.createObjectURL(e.target.files[0]))\n    }\n\n    \n    useEffect(()=>{\n        dispatch(get({\n            url:`api/admin/producers`,\n            token,\n            action: (response) =>{\n                if(response.success){\n                    setProducers(response.data.rows)\n                }else{\n                    toast.error(\"Неизвестная ошибка\")\n                }\n            }\n        }))\n    }, []) // eslint-disable-line react-hooks/exhaustive-deps\n\n    useEffect(()=>{\n        dispatch(get({\n            url:`api/admin/categories`,\n            token,\n            action: (response) =>{\n                if(response.success){\n                    setCategories(response.data.rows)\n                }else{\n                    toast.error(\"Неизвестная ошибка\")\n                }\n            }\n        }))\n    }, []) // eslint-disable-line react-hooks/exhaustive-deps\n    return (\n        <ModalContainer size = \"lg\"\n            visible = {visible}\n            title = {title}\n            setCloseModal = {()=>{\n                setCloseModal();\n                reset({});\n                setSelectedFile(null);\n                setDelImg(false);\n                setImage(null)\n            }}\n        >\n        <form onSubmit = {handleSubmit(onSubmit)}>\n            {\n                form === \"sale\" ? \n                <>\n                    {/* <div className=\"relative w-full mt-2\">\n                        <label>Минимальное количество</label>\n                        <input type=\"text\" {...register(\"min_value\")}\n                            autoComplete=\"false\"\n                            className={`${errors.min_value ? 'border-2 border-red-300 ring-red-100' : 'ring-indigo-600'} px-3 shadow-inner h-10 w-full text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 `}\n                            placeholder=\"Например 1\"\n                        />\n                        <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                            {errors.min_value?.message}\n                        </p>\n                    </div> */}\n                    \n                    <div className=\"relative w-full mt-2\">\n                        <label>Скидка (в процентах)</label>\n                        <input type=\"text\" {...register(\"discount_value\")}\n                            autoComplete=\"false\"\n                            className={`${errors.discount_value ? 'border-2 border-red-300 ring-red-100' : 'ring-indigo-600'} px-3 shadow-inner h-10 w-full text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 `}\n                            placeholder=\"Например 50\"\n                        />\n                        <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                            {errors.discount_value?.message}\n                        </p>\n                    </div>\n                    <div className = \"py-3 flex flex-col\">\n                        <label className = \"pl-2 pb-3\">Введите начальное число</label>\n                        <input {...register(\"start_date\")} type = \"text\" onFocus = {(e)=>{e.currentTarget.type=\"date\"}} onBlur={(e)=>e.currentTarget.type=\"text\"}  placeholder = \"Введите начальное число\" className = \"ring-indigo-600 px-3 shadow-inner h-12 text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2\"/>        \n                        <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                            {errors.start_date?.message}\n                        </p>\n                    </div>\n                    <div className = \"py-3 flex flex-col\">\n                        <label className = \"pl-2 pb-3\">Введите конечное число</label>\n                        <input {...register(\"end_date\")} type = \"text\" onFocus = {(e)=>{e.currentTarget.type=\"date\"}} onBlur={(e)=>e.currentTarget.type=\"text\"}  placeholder = \"Введите начальное число\" className = \"ring-indigo-600 px-3 shadow-inner h-12 text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2\"/>        \n                        <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                            {errors.end_date?.message}\n                        </p>\n                    </div>\n                </>\n                :\n            <>\n                <div className = \"flex flex-row\">\n                    <div className = \"w-1/3 px-2\">\n                        <div className=\"relative w-full mb-6\">\n                            <label>Название продукта на туркменском</label>\n                            <input type=\"text\" {...register(\"name_tm\")}\n                                autoComplete=\"false\" name = \"name_tm\"\n                                className={`${errors.name_tm ? 'border-2 border-red-300 ring-red-100' : 'ring-indigo-600'} px-3 shadow-inner h-10 w-full text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 `}\n                                placeholder=\"Max-Deluxe\"\n                            />\n                            <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                                {errors.name_tm?.message}\n                            </p>\n                        </div>\n                        <div className=\"flex flex-col w-full relative mb-6 p-2\">\n                            <label>Описание на туркменском</label>\n                            <textarea type=\"text\" {...register(\"description_tm\")} name=\"description_tm\"\n                                autoComplete=\"false\"\n                                className={`${errors.description_tm ? 'border-2 border-red-300 ring-red-100' : 'ring-indigo-600'} px-3 shadow-inner h-24 text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 `}\n                                placeholder=\"описание на русском\"\n                            />\n                            <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                                {errors.description_tm?.message}\n                            </p>\n                        </div>\n                    </div>\n                    <div className = \"w-1/3 px-2\">\n                        <div className=\"relative w-full mb-6\">\n                            <label>Название продукта на русском</label>\n                            <input type=\"text\" {...register(\"name_ru\")}\n                                autoComplete=\"false\" name = \"name_ru\"\n                                className={`${errors.name_ru ? 'border-2 border-red-300 ring-red-100' : 'ring-indigo-600'} px-3 shadow-inner h-10 w-full text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 `}\n                                placeholder=\"Max-Deluxe\"\n                            />\n                            <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                                {errors.name_ru?.message}\n                            </p>\n                        </div>\n                        <div className=\"flex flex-col w-full relative mb-6 p-2\">\n                            <label>Описание на русском</label>\n                            <textarea type=\"text\" {...register(\"description_ru\")} name=\"description_ru\"\n                                autoComplete=\"false\"\n                                className={`${errors.description_ru ? 'border-2 border-red-300 ring-red-100' : 'ring-indigo-600'} px-3 shadow-inner h-24 text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 `}\n                                placeholder=\"описание на русском\"\n                            />\n                            <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                                {errors.description_ru?.message}\n                            </p>\n                        </div>\n                    </div>\n                    <div className = \"w-1/3 px-2\">\n                        <div className=\"relative w-full mb-6\">\n                            <label>Название продукта на английском</label>\n                            <input type=\"text\" {...register(\"name_en\")}\n                                autoComplete=\"false\" name = \"name_en\"\n                                className={`${errors.name_en ? 'border-2 border-red-300 ring-red-100' : 'ring-indigo-600'} px-3 shadow-inner h-10 w-full text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 `}\n                                placeholder=\"Max-Deluxe\"\n                            />\n                            <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                                {errors.name_en?.message}\n                            </p>\n                        </div>\n                        <div className=\"flex flex-col w-full relative mb-6 p-2\">\n                            <label>Описание на английском</label>\n                            <textarea type=\"text\" {...register(\"description_en\")} name=\"description_en\"\n                                autoComplete=\"false\"\n                                className={`${errors.description_en ? 'border-2 border-red-300 ring-red-100' : 'ring-indigo-600'} px-3 shadow-inner h-24 text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 `}\n                                placeholder=\"описание на русском\"\n                            />\n                            <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                                {errors.description_en?.message}\n                            </p>\n                        </div>\n                    </div>\n                </div>\n                <div className = \"flex flex-row\">\n                    <div className = \"w-1/2 \">\n                        <div className = \"flex flex-col\">\n                            <div className=\"flex flex-col w-full relative mb-6 \">\n                                <label>Цена</label>\n                                    <input type=\"text\" {...register(\"price\")}\n                                        autoComplete=\"false\" name = \"price\"\n                                        className={`${errors.price ? 'border-2 border-red-300 ring-red-100' : 'ring-indigo-600'} px-3 shadow-inner h-10 w-full text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 `}\n                                        placeholder=\"150\"\n                                    />\n                                <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                                    {errors.price?.message}\n                                </p>\n                            </div>\n                            <div className=\"flex flex-col w-full relative mb-6 \">\n                                <label>Остаток</label>\n                                    <input type=\"text\" {...register(\"stock\")}\n                                        autoComplete=\"false\" name = \"stock\"\n                                        className={`${errors.stock ? 'border-2 border-red-300 ring-red-100' : 'ring-indigo-600'} px-3 shadow-inner h-10 w-full text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 `}\n                                        placeholder=\"150\"\n                                    />\n                                <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                                    {errors.stock?.message}\n                                </p>\n                            </div>\n                            <div className=\"flex flex-col w-full relative mb-6 \">\n                                <label>выберите производителя</label>\n                                <select value = {watch(\"producer_id\")} onChange = {(e)=>setValue(\"producer_id\", e.target.value)} className = \"px-3 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none  border-0 ring-1 ring-gray-300 dark:ring-gray-800 focus:ring-purple-700 dark:focus:ring-2 dark:focus:ring-gray-600 w-full cursor-pointer\">\n                                    <option key = {0} value = {0} >Производитель</option>\n                                    {producers.length > 0 &&\n                                        producers.map(item => (\n                                            <option key = {item.id} value = {item.id}>{item.name}</option>\n                                        ))\n                                    }\n                                </select>\n                                <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                                    {errors.producer_id?.message}\n                                </p>\n                            </div>\n                            <div className=\"flex flex-col w-full relative mb-6 \">\n                                <label>выберите категорию</label>\n                                <select value = {watch(\"category_id\")} onChange = {(e)=>setValue(\"category_id\", e.target.value)} className = \"px-3 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none  border-0 ring-1 ring-gray-300 dark:ring-gray-800 focus:ring-purple-700 dark:focus:ring-2 dark:focus:ring-gray-600 w-full cursor-pointer\" >\n                                    <option key = {0} value = {0}>Категория</option>\n                                    {categories.length > 0 &&\n                                        categories.map(item => (\n                                            <option key = {item.id} value = {item.id}>{item.name_ru}</option>\n                                        ))\n                                    }\n                                </select>\n                                <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                                    {errors.category_id?.message}\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                    {\n                        (form === \"add\" || !values?.destination || del_img) ? \n                        <div className = \"w-1/2 flex flex-col justify-center items-center\">\n                            <div className = \"p-2\">\n                                <label>Выберите файл</label>\n                                <input type = \"file\" name = \"picture\" className = \"px-3 py-5\" onChange = {(e)=>onChangeHandler(e)} />\n                            </div>\n                            <div className = \"w-96 h-full\">\n                            {image ? \n                                <img className = \"p-1 px-3 \" alt = \"Hello world\" src = {image}/>\n                            :\n                            <>\n                            </>\n                            }\n                            </div>\n                        </div>\n                        : form === \"update\" ?\n                            <div className = \"flex flex-row relative justify-center items-center w-96 h-full p-1 px-5\">\n                                <div className = \"absolute right-0 top-0 rounded-full\">\n                                    <IconButton tooltip = \"Удалить\" handleClick = {()=>setDelImg(true)} icon={<BiTrash className=\"text-2xl \"/>}/>\n                                </div>\n                                <img className = \"object-contain rounded-md \" src={`${process.env.REACT_APP_FILE_URL}/${values?.destination}-big.webp`} alt=\"CTYPES\"/>\n                            </div>\n                        : <></>\n                    }\n                </div>\n            </>\n            }\n            <div className= \"w-full flex justify-center items-center\">\n                <button type=\"submit\"  disabled = {loading} className=\"w-48 flex remove-button-bg justify-center items-center px-4 h-10 text-white transform ease-in-out duration-300 hover:scale-110 active:scale-100 font-semibold text-base rounded-full bg-green-500 hover:bg-green-400 active:bg-green-500 focus:outline-none shadow-md\">\n                   {loading ? \n                   <BgLoader loading = {loading}/>\n                       :\n                       <>{form === \"add\" ? \"Добавить\" :form === \"update\" ? \"Обновить\" : form === \"sale\" ? \"Добавить скидку\": \"\"}</>\n                   } \n                </button>\n            </div>\n        </form>\n        </ModalContainer>\n    )\n}\n\nconst schema = (form) => Yup.object().shape({\n    name_tm: form === \"sale\" ? Yup.string().nullable(true) : Yup.string().min(5, \"Минимум 5 символов\").max(50, \"максимум 50 символов\").required(\"Обязательно\"),\n    description_tm: form === \"sale\" ? Yup.string().nullable(true) : Yup.string().min(10, \"Минимум 10 символов\").max(50, \"максимум 50 символов\").required(\"Обязательно\"),\n    name_ru: form === \"sale\" ? Yup.string().nullable(true) : Yup.string().min(5, \"Минимум 5 символов\").max(50, \"максимум 50 символов\").required(\"Обязательно\"),\n    description_ru: form === \"sale\" ? Yup.string().nullable(true) : Yup.string().min(10, \"Минимум 10 символов\").max(50, \"максимум 50 символов\").required(\"Обязательно\"),\n    name_en:  form === \"sale\" ? Yup.string().nullable(true) : Yup.string().min(5, \"Минимум 5 символов\").max(50, \"максимум 50 символов\").required(\"Обязательно\"),\n    description_en:  form === \"sale\" ? Yup.string().nullable(true) : Yup.string().min(10, \"Минимум 10 символов\").max(50, \"максимум 50 символов\").required(\"Обязательно\"),\n    price: form === \"sale\" ? Yup.string().nullable(true) : Yup.number().min(0).max(100000, 'максимум 1000000').required(\"Обязательное поле\"),\n    stock: form === \"sale\" ? Yup.string().nullable(true) : Yup.number().min(0).max(100000, 'максимум 1000000').required(\"Обязательное поле\"),\n    producer_id: form === \"sale\" ? Yup.string().nullable(true) : Yup.number().min(1, \"Обязательлное поле\").required(\"Обязательлное поле\"),\n    category_id: form === \"sale\" ? Yup.string().nullable(true) : Yup.number().min(1, \"Обязательлное поле\").required(\"Обязательлное поле\"),\n    product_id: form === \"sale\" ? Yup.number().required() : Yup.string().nullable(true)\n})\n\nexport default Form;","import IconButton from \"../../components/IconButton\";\nimport {IoMdAdd} from \"@react-icons/all-files/io/IoMdAdd\"\nimport SearchInput from \"../../components/SearchInput\";\nimport Layout from \"../../components/Layout\";\nimport { useEffect, useReducer } from \"react\";\nimport Form from \"./Form\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport BgLoader from \"../../components/BgLoader\"\nimport { get } from \"../../application/middlewares\";\nimport toast from \"react-hot-toast\";\nimport Table from \"../../components/Table/Table\"\nimport Head from \"../../components/Table/Head\"\nimport Row from \"../../components/Table/Row\"\nimport Cell from \"../../components/Table/Cell\"\nimport Body from \"../../components/Table/Body\"\nimport {BsImage} from \"@react-icons/all-files/bs/BsImage\"\nimport NoContent from \"../../components/NoContent\"\nimport { BiEdit } from \"@react-icons/all-files/bi/BiEdit\";\nimport {FcSalesPerformance} from \"@react-icons/all-files/fc/FcSalesPerformance\"\nimport MyPagination from \"../../components/Pagination\"\n\nfunction reducer (state, action){\n    console.log(action)\n    switch(action.type){\n        case \"ADD_FORM\":\n            return {\n                ...state,\n                visible:true,\n                form:\"add\",\n                values:\"\",\n                title:\"Форма добавления\"\n            }\n        case \"SET_CLOSE_MODAL\":\n            return {\n                ...state, \n                visible:false,\n                form:\"\"\n            }\n        case \"SET_DATA\":\n            return{\n                ...state,\n                data:action.payload.products,\n                count:+action.payload.count,\n                loading:false\n            }\n        case \"SET_LOADING\":\n            return {\n                ...state,\n                loading:action.payload\n            }\n        case \"UPDATE_FORM\":\n            return{\n                ...state,\n                visible:true,\n                values:action.payload,\n                form:\"update\",\n                title:'Форма обновления'\n            }\n        case \"ADD_PRODUCT\":\n            return{\n                ...state,\n                data:[...state.data, action.payload],\n\n            }\n        case \"SET_UPLOADED_IMAGE\":\n            return {\n                ...state,\n                data:state.data.map(item => {\n                    if(item.id === action.payload.id){\n                        item.destination = action.payload.destination\n                    }return item\n                }),\n                visible:false\n            }\n        case \"SALE_FORM\":\n            return {\n                ...state, \n                form:\"sale\",\n                visible:true,\n                title:\"Форма добавления скидки\",\n                values:action.payload\n            }\n        case \"UPDATE_PRODUCT\":\n            return{\n                ...state,\n                data:state.data.map(item => {\n                    if(item.id === +action.payload.id){\n                        item = action.payload;\n                    }return item;\n                })\n            }\n        case 'SET_LIMIT':\n            return{\n                ...state,\n                limit:action.payload,\n                page:0,\n                trigger:!state.trigger,\n                loading:true\n            }\n        case 'SET_PAGE':\n            return{\n                ...state,\n                page:action.payload,\n                trigger:!state.trigger,\n                loading:true\n            }\n        case \"SET_SEACRH\":\n            return {\n                ...state,\n                search:action.payload,\n                trigger:!state.trigger,\n                page:0,\n                loading:true\n            }\n        case \"ADD_SALE\":\n            return {\n                ...state,\n                data:state.data.map(item => {\n                    if(item.id === +action.payload.product_id){\n                        item.discount_id = action.payload.id\n                        item.discount_value = action.payload.discount_value\n                        item.low_val = action.payload.low\n                        item.upper_val = action.payload.upper\n                    }return item;\n                })\n            }\n        default: return state\n    }\n}\n\nfunction Products (){\n\n    const [state, setState] = useReducer(reducer, {\n        visible:false, form:\"\", title:\"\",  data:[], page:0, \n        limit:30, count:0, values:\"\", loading:true, limit:20, search:\"\"\n    })\n\n    const dispatch = useDispatch()\n    const token = useSelector(state => state.auth.token)\n\n\n    useEffect(()=>{\n        dispatch(get({\n            url:`api/admin/products?page=${state.page}&limit=${state.limit}&search=${state.search}`,\n            token,\n            action: (response) =>{\n                if(response.success){\n                    setState({type:\"SET_DATA\", payload:response.data.rows})\n                }else{\n                    toast.error(\"Неизвестная ошибка\")\n                    setState({type:\"SET_LOADING\", payload:false})\n                }  \n            }\n        }))\n    }, [state.trigger]) // eslint-disable-line react-hooks/exhaustive-deps\n\n    \n    return (\n        <Layout \n            header = {<Header handleClick = {()=>setState({type:\"ADD_FORM\", payload:\"\"})} handleSearch = {(value) => setState({type:\"SET_SEACRH\", payload:value})}/>} \n            footer={<MyPagination setPage={(value) => setState({type:'SET_PAGE', payload:value})} limit={+state.limit} count={+state.count} page={state.page} setLimit={(value) => setState({type:'SET_LIMIT', payload:value})}/>}\n        >\n            <Form\n                visible = {state.visible}\n                title = {state.title}\n                form = {state.form}\n                token = {token}\n                values = {state.values}\n                setCloseModal = {()=>setState({type:\"SET_CLOSE_MODAL\", payload:\"\"})}\n                addedProduct = {(value) => setState({type:\"ADD_PRODUCT\", payload:value})}\n                setUploadedImage = {(value)=>setState({type:\"SET_UPLOADED_IMAGE\", payload:value})}\n                updateProduct = {(value) => setState({type:\"UPDATE_PRODUCT\", payload:value})}\n                addSale = {(value) => setState({type:\"ADD_SALE\", payload:value})}\n            />\n            <BgLoader loading = {state.loading}/>\n            <div className=\"w-full h-full px-6 overflow-y-auto pb-20 \">\n                <Table>\n                    <Head>\n                        <Row>\n                            <>\n                            <Cell>\n                                <div  className={` px-2 py-4 font-medium flex flex-row justify-start items-center `}>\n                                    ID\n                                </div>\n                            </Cell>\n                            <Cell>\n                                <div  className={` px-2 py-4 font-medium flex flex-row justify-start items-center `}>\n                                    Имя продукта\n                                </div>\n                            </Cell>\n                            <Cell>\n                                <div  className={` px-2 py-4 font-medium flex flex-row justify-start items-center `}>\n                                    Цена\n                                </div>\n                            </Cell>\n                            <Cell>\n                                <div  className={` px-2 py-4 font-medium flex flex-row justify-start items-center `}>\n                                    Остаток\n                                </div>\n                            </Cell>\n                            <Cell>\n                                <div  className={` px-2 py-4 font-medium flex flex-row justify-start items-center `}>\n                                    Производитель\n                                </div>\n                            </Cell>\n                            <Cell>\n                                <div  className={` px-2 py-4 font-medium flex flex-row justify-start items-center `}>\n                                    Категория\n                                </div>\n                            </Cell>\n                            <Cell>\n                                <div  className={` px-2 py-4 font-medium flex flex-row justify-start items-center `}>\n                                    Фотография  \n                                </div>\n                            </Cell>\n                            <Cell>\n                                <div  className={` px-2 py-4 font-medium flex flex-row justify-start items-center `}>\n                                    Скидка  \n                                </div>\n                            </Cell>\n                            <Cell>\n                                <div  className={` px-2 py-4 font-medium flex flex-row justify-start items-center `}>\n                                    Действие\n                                </div>\n                            </Cell>\n                            </>\n                        </Row>\n                    </Head>\n                    <Body>\n                    {state.data?.length > 0 \n                    ?\n                        state.data.map(item => (\n                            <Row key ={item?.id}>\n                                <>\n                                <Cell>\n                                    <div className = \"p-2\">\n                                        {item?.id}\n                                    </div>\n                                </Cell>\n                                <Cell>\n                                    <div className = \"p-2\">\n                                        {item?.name_ru}\n                                    </div>\n                                </Cell>\n                                <Cell>\n                                    <div className = \"p-2\">\n                                        {item?.price}\n                                    </div>\n                                </Cell>\n                                <Cell>\n                                    <div className = \"p-2\">\n                                        {item?.stock}\n                                    </div>\n                                </Cell>\n                                <Cell>\n                                    <div className = \"p-2\">\n                                        {item?.producer_name}\n                                    </div>\n                                </Cell>\n                                <Cell>\n                                    <div className = \"p-2\">\n                                        {item?.category_name}\n                                    </div>\n                                </Cell>\n                                <Cell>\n                                    <div className=\"p-2 flex justify-center items-center\">\n                                        {item?.destination ? <img className=\"object-contain rounded-md w-28 h-28\" src={`${process.env.REACT_APP_FILE_URL}/${item?.destination}-big.webp`} alt=\"CTYPES\" />: <BsImage className=\"text-4xl text-gray-500 opacity-80\"/>}\n                                    </div>\n                                </Cell>\n                                <Cell>\n                                    <div className = \"p-2\">\n                                        {item?.discount_id ? \n                                        <>\n                                            <p>{item.discount_value}</p>\n                                            <p>от {item.low_val.substring(0, 10)}</p>\n                                            <p>до {item.upper_val.substring(0, 10)}</p>\n                                        </>\n                                        : `No`}\n                                    </div>\n                                </Cell>\n                                <Cell>\n                                    <div className = \"p-2 flex flex-row\">\n                                        <IconButton tooltip = {\"Изменить\"} handleClick = {()=>setState({type:\"UPDATE_FORM\", payload:item})} icon = {<BiEdit className = \"text-2xl\"/>}/>\n                                        {!item?.discount_id &&\n                                            <IconButton tooltip = {\"Скидки\"} handleClick = {()=>setState({type:\"SALE_FORM\", payload:item})} icon = {<FcSalesPerformance className = \"text-2xl\"/>}/>\n                                        }\n                                    </div>\n                                </Cell>\n                            </>\n                        </Row>\n                        ))\n                    :\n                        <>\n                        <tr>\n                            <td colSpan=\"10\" >\n                                <div className=\"flex w-full h-full py-20 justify-center items-center\">\n                                    <NoContent title=\"Нет продуктов\"/>\n                                </div>\n                            </td>\n                        </tr>\n                        </>\n                    }\n                    </Body>\n                </Table>\n            </div>\n        </Layout>\n    )\n}\n\nconst Header = ({handleClick, handleSearch}) =>(\n    <div className=\"flex flex-row justify-between items-center\">\n        <IconButton tooltip = \"Добавить продукт\" handleClick={handleClick} icon={<IoMdAdd className=\"text-2xl \"/>}/>\n        <div className=\"w-80\">\n            <SearchInput action={(value) => handleSearch(value)} placeholder=\"Поиск\"/>\n        </div>\n    </div>\n);\n\n\nexport default Products","// THIS FILE IS AUTO GENERATED\nvar GenIcon = require('../lib').GenIcon\nmodule.exports.IoMdAdd = function IoMdAdd (props) {\n  return GenIcon({\"tag\":\"svg\",\"attr\":{\"viewBox\":\"0 0 512 512\"},\"child\":[{\"tag\":\"path\",\"attr\":{\"d\":\"M416 277.333H277.333V416h-42.666V277.333H96v-42.666h138.667V96h42.666v138.667H416v42.666z\"}}]})(props);\n};\n","// THIS FILE IS AUTO GENERATED\nvar GenIcon = require('../lib').GenIcon\nmodule.exports.BiEdit = function BiEdit (props) {\n  return GenIcon({\"tag\":\"svg\",\"attr\":{\"viewBox\":\"0 0 24 24\"},\"child\":[{\"tag\":\"path\",\"attr\":{\"d\":\"M7,17.013l4.413-0.015l9.632-9.54c0.378-0.378,0.586-0.88,0.586-1.414s-0.208-1.036-0.586-1.414l-1.586-1.586\\tc-0.756-0.756-2.075-0.752-2.825-0.003L7,12.583V17.013z M18.045,4.458l1.589,1.583l-1.597,1.582l-1.586-1.585L18.045,4.458z M9,13.417l6.03-5.973l1.586,1.586l-6.029,5.971L9,15.006V13.417z\"}},{\"tag\":\"path\",\"attr\":{\"d\":\"M5,21h14c1.103,0,2-0.897,2-2v-8.668l-2,2V19H8.158c-0.026,0-0.053,0.01-0.079,0.01c-0.033,0-0.066-0.009-0.1-0.01H5V5\\th6.847l2-2H5C3.897,3,3,3.897,3,5v14C3,20.103,3.897,21,5,21z\"}}]})(props);\n};\n","// THIS FILE IS AUTO GENERATED\nvar GenIcon = require('../lib').GenIcon\nmodule.exports.BiTrash = function BiTrash (props) {\n  return GenIcon({\"tag\":\"svg\",\"attr\":{\"viewBox\":\"0 0 24 24\"},\"child\":[{\"tag\":\"path\",\"attr\":{\"fill\":\"none\",\"d\":\"M17.004 20L17.003 8h-1-8-1v12H17.004zM13.003 10h2v8h-2V10zM9.003 10h2v8h-2V10zM9.003 4H15.003V6H9.003z\"}},{\"tag\":\"path\",\"attr\":{\"d\":\"M5.003,20c0,1.103,0.897,2,2,2h10c1.103,0,2-0.897,2-2V8h2V6h-3h-1V4c0-1.103-0.897-2-2-2h-6c-1.103,0-2,0.897-2,2v2h-1h-3 v2h2V20z M9.003,4h6v2h-6V4z M8.003,8h8h1l0.001,12H7.003V8H8.003z\"}},{\"tag\":\"path\",\"attr\":{\"d\":\"M9.003 10H11.003V18H9.003zM13.003 10H15.003V18H13.003z\"}}]})(props);\n};\n"],"sourceRoot":""}