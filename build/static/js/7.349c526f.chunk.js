(this.webpackJsonpgamysh=this.webpackJsonpgamysh||[]).push([[7],{100:function(e,t,n){var a=n(79).GenIcon;e.exports.BiTrash=function(e){return a({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M17.004 20L17.003 8h-1-8-1v12H17.004zM13.003 10h2v8h-2V10zM9.003 10h2v8h-2V10zM9.003 4H15.003V6H9.003z"}},{tag:"path",attr:{d:"M5.003,20c0,1.103,0.897,2,2,2h10c1.103,0,2-0.897,2-2V8h2V6h-3h-1V4c0-1.103-0.897-2-2-2h-6c-1.103,0-2,0.897-2,2v2h-1h-3 v2h2V20z M9.003,4h6v2h-6V4z M8.003,8h8h1l0.001,12H7.003V8H8.003z"}},{tag:"path",attr:{d:"M9.003 10H11.003V18H9.003zM13.003 10H15.003V18H13.003z"}}]})(e)}},109:function(e,t,n){"use strict";var a=n(135),i=n(2);t.a=function(e){var t=e.limit,n=e.setLimit,c=e.setPage,o=e.count,r=e.page;return Object(i.jsxs)("div",{className:"relative flex flex-row w-full justify-between px-2",children:[Object(i.jsx)("div",{}),Object(i.jsx)(a.a,{pageSize:t,current:r+1,className:"",total:o,showTotal:function(e,t){return Object(i.jsx)("div",{className:"hidden md:flex absolute top-0 left-2",children:"".concat(t[0]," - ").concat(t[1]," \u0438\u0437 ").concat(e)})},onChange:function(e){return c(e-1)}}),Object(i.jsxs)("select",{className:"focus:outline-none p-1",value:t,onChange:function(e){return n(e.target.value)},children:[Object(i.jsx)("option",{value:10,children:"10"}),Object(i.jsx)("option",{value:20,children:"20"}),Object(i.jsx)("option",{value:30,children:"30"}),Object(i.jsx)("option",{value:40,children:"40"}),Object(i.jsx)("option",{value:50,children:"50"})]})]})}},132:function(e,t,n){"use strict";var a=n(12),i=n(0),c=n(133),o=n.n(c),r=n(31),s=n(2);t.a=function(e){var t=e.handleStatus,n=e.status,c=e.item_id,l=Object(i.useState)(!1),d=Object(a.a)(l,2),u=d[0],h=d[1];return Object(s.jsx)("div",{className:"w-12 h-12 flex justify-center items-center",children:u?Object(s.jsx)(r.a,{size:"md"}):Object(s.jsx)(o.a,{onChange:function(e){h(!0),t({setLoading:h,value:e,item_id:c})},checked:n,checkedIcon:!1,onColor:"#34D399",height:18,width:37})})}},133:function(e,t,n){e.exports=n(134)},134:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var c=a.createElement("svg",{viewBox:"-2 -5 14 20",height:"100%",width:"100%",style:{position:"absolute",top:0}},a.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"})),o=a.createElement("svg",{height:"100%",width:"100%",viewBox:"-2 -5 17 21",style:{position:"absolute",top:0}},a.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}));function r(e){if(7===e.length)return e;for(var t="#",n=1;n<4;n+=1)t+=e[n]+e[n];return t}function s(e,t,n,a,i){return function(e,t,n,a,i){var c=(e-n)/(t-n);if(0===c)return a;if(1===c)return i;for(var o="#",r=1;r<6;r+=2){var s=parseInt(a.substr(r,2),16),l=parseInt(i.substr(r,2),16),d=Math.round((1-c)*s+c*l).toString(16);1===d.length&&(d="0"+d),o+=d}return o}(e,t,n,r(a),r(i))}var l=function(e){function t(t){e.call(this,t);var n=t.height,a=t.width,i=t.checked;this.t=t.handleDiameter||n-2,this.i=Math.max(a-n,a-(n+this.t)/2),this.o=Math.max(0,(n-this.t)/2),this.state={h:i?this.i:this.o},this.l=0,this.u=0,this.p=this.p.bind(this),this.v=this.v.bind(this),this.g=this.g.bind(this),this.k=this.k.bind(this),this.M=this.M.bind(this),this.m=this.m.bind(this),this.T=this.T.bind(this),this.$=this.$.bind(this),this.C=this.C.bind(this),this.D=this.D.bind(this),this.O=this.O.bind(this),this.S=this.S.bind(this)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.componentDidMount=function(){this.W=!0},t.prototype.componentDidUpdate=function(e){e.checked!==this.props.checked&&this.setState({h:this.props.checked?this.i:this.o})},t.prototype.componentWillUnmount=function(){this.W=!1},t.prototype.I=function(e){this.H.focus(),this.setState({R:e,j:!0,B:Date.now()})},t.prototype.L=function(e){var t=this.state,n=t.R,a=t.h,i=(this.props.checked?this.i:this.o)+e-n;t.N||e===n||this.setState({N:!0});var c=Math.min(this.i,Math.max(this.o,i));c!==a&&this.setState({h:c})},t.prototype.U=function(e){var t=this.state,n=t.h,a=t.N,i=t.B,c=this.props.checked,o=(this.i+this.o)/2;this.setState({h:this.props.checked?this.i:this.o});var r=Date.now()-i;(!a||r<250||c&&n<=o||!c&&n>=o)&&this.A(e),this.W&&this.setState({N:!1,j:!1}),this.l=Date.now()},t.prototype.p=function(e){e.preventDefault(),"number"==typeof e.button&&0!==e.button||(this.I(e.clientX),window.addEventListener("mousemove",this.v),window.addEventListener("mouseup",this.g))},t.prototype.v=function(e){e.preventDefault(),this.L(e.clientX)},t.prototype.g=function(e){this.U(e),window.removeEventListener("mousemove",this.v),window.removeEventListener("mouseup",this.g)},t.prototype.k=function(e){this.X=null,this.I(e.touches[0].clientX)},t.prototype.M=function(e){this.L(e.touches[0].clientX)},t.prototype.m=function(e){e.preventDefault(),this.U(e)},t.prototype.$=function(e){Date.now()-this.l>50&&(this.A(e),Date.now()-this.u>50&&this.W&&this.setState({j:!1}))},t.prototype.C=function(){this.u=Date.now()},t.prototype.D=function(){this.setState({j:!0})},t.prototype.O=function(){this.setState({j:!1})},t.prototype.S=function(e){this.H=e},t.prototype.T=function(e){e.preventDefault(),this.H.focus(),this.A(e),this.W&&this.setState({j:!1})},t.prototype.A=function(e){var t=this.props;(0,t.onChange)(!t.checked,e,t.id)},t.prototype.render=function(){var e=this.props,t=e.checked,n=e.disabled,c=e.className,o=e.offColor,r=e.onColor,l=e.offHandleColor,d=e.onHandleColor,u=e.checkedIcon,h=e.uncheckedIcon,b=e.checkedHandleIcon,p=e.uncheckedHandleIcon,j=e.boxShadow,m=e.activeBoxShadow,f=e.height,x=e.width,g=e.borderRadius,v=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(n[a]=e[a]);return n}(e,["checked","disabled","className","offColor","onColor","offHandleColor","onHandleColor","checkedIcon","uncheckedIcon","checkedHandleIcon","uncheckedHandleIcon","boxShadow","activeBoxShadow","height","width","borderRadius","handleDiameter"]),O=this.state,y=O.h,w=O.N,_=O.j,N={position:"relative",display:"inline-block",textAlign:"left",opacity:n?.5:1,direction:"ltr",borderRadius:f/2,WebkitTransition:"opacity 0.25s",MozTransition:"opacity 0.25s",transition:"opacity 0.25s",touchAction:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},S={height:f,width:x,margin:Math.max(0,(this.t-f)/2),position:"relative",background:s(y,this.i,this.o,o,r),borderRadius:"number"==typeof g?g:f/2,cursor:n?"default":"pointer",WebkitTransition:w?null:"background 0.25s",MozTransition:w?null:"background 0.25s",transition:w?null:"background 0.25s"},k={height:f,width:Math.min(1.5*f,x-(this.t+f)/2+1),position:"relative",opacity:(y-this.o)/(this.i-this.o),pointerEvents:"none",WebkitTransition:w?null:"opacity 0.25s",MozTransition:w?null:"opacity 0.25s",transition:w?null:"opacity 0.25s"},E={height:f,width:Math.min(1.5*f,x-(this.t+f)/2+1),position:"absolute",opacity:1-(y-this.o)/(this.i-this.o),right:0,top:0,pointerEvents:"none",WebkitTransition:w?null:"opacity 0.25s",MozTransition:w?null:"opacity 0.25s",transition:w?null:"opacity 0.25s"},C={height:this.t,width:this.t,background:s(y,this.i,this.o,l,d),display:"inline-block",cursor:n?"default":"pointer",borderRadius:"number"==typeof g?g-1:"50%",position:"absolute",transform:"translateX("+y+"px)",top:Math.max(0,(f-this.t)/2),outline:0,boxShadow:_?m:j,border:0,WebkitTransition:w?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",MozTransition:w?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",transition:w?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s"},T={height:this.t,width:this.t,opacity:Math.max(2*(1-(y-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:w?null:"opacity 0.25s",MozTransition:w?null:"opacity 0.25s",transition:w?null:"opacity 0.25s"},M={height:this.t,width:this.t,opacity:Math.max(2*((y-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:w?null:"opacity 0.25s",MozTransition:w?null:"opacity 0.25s",transition:w?null:"opacity 0.25s"};return a.createElement("div",{className:c,style:N},a.createElement("div",{className:"react-switch-bg",style:S,onClick:n?null:this.T,onMouseDown:function(e){return e.preventDefault()}},u&&a.createElement("div",{style:k},u),h&&a.createElement("div",{style:E},h)),a.createElement("div",{className:"react-switch-handle",style:C,onClick:function(e){return e.preventDefault()},onMouseDown:n?null:this.p,onTouchStart:n?null:this.k,onTouchMove:n?null:this.M,onTouchEnd:n?null:this.m,onTouchCancel:n?null:this.O},p&&a.createElement("div",{style:T},p),b&&a.createElement("div",{style:M},b)),a.createElement("input",i({},{type:"checkbox",role:"switch","aria-checked":t,checked:t,disabled:n,style:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}},v,{ref:this.S,onFocus:this.D,onBlur:this.O,onKeyUp:this.C,onChange:this.$})))},t}(a.Component);l.defaultProps={disabled:!1,offColor:"#888",onColor:"#080",offHandleColor:"#fff",onHandleColor:"#fff",uncheckedIcon:c,checkedIcon:o,boxShadow:null,activeBoxShadow:"0 0 2px 3px #3bf",height:28,width:56},t.default=l},275:function(e,t,n){var a=n(79).GenIcon;e.exports.GoSearch=function(e){return a({tag:"svg",attr:{viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"}}]})(e)}},277:function(e,t,n){var a=n(79).GenIcon;e.exports.TiArrowSortedUp=function(e){return a({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.2 13.3l-6.2-6.3-6.2 6.3c-.2.2-.3.5-.3.7s.1.5.3.7c.2.2.4.3.7.3h11c.3 0 .5-.1.7-.3.2-.2.3-.5.3-.7s-.1-.5-.3-.7z"}}]})(e)}},287:function(e,t,n){"use strict";n.r(t);var a=n(22),i=n(12),c=n(81),o=n(9),r=n(83),s=n(82),l=n(0);var d=function(e){var t=e.action,n=e.time,a=Object(l.useState)(0),c=Object(i.a)(a,2),o=c[0],r=c[1];return function(e){o&&clearTimeout(o),r(setTimeout((function(){t(e)}),n))}},u=n(275),h=n(2);var b=function(e){var t=e.placeholder,n=e.action,a=d({time:1500,action:function(e){return n(e)}});return Object(h.jsxs)("div",{className:"relative w-full",children:[Object(h.jsx)("div",{className:"absolute top-1 left-2 inset-y-0 flex items-center pl-1",children:Object(h.jsx)(u.GoSearch,{className:"text-xl text-indigo-600","aria-hidden":"true"})}),Object(h.jsx)("input",{className:"pr-4 pl-10 h-10 text-gray-700 rounded-2xl appearance-none w-full bg-white shadow-sm placeholder-gray-400 focus:shadow-inner text-sm focus:outline-none",onChange:function(e){return a(e.target.value)},type:"search",name:"search",id:"search",placeholder:t})]})},p=n(85),j=n(86),m=n(87),f=n(101),x=n(102),g=n(13),v=n(80),O=n(14),y=n(16),w=n(29),_=n(100),N=n(3),S=n.n(N),k=n(10),E=n(95),C=n(98),T=n(97),M=n(96);var D=function(e){var t=e.myDocument,n=e.token,a=e.url,o=e.visible,r=(e.setUploadedImage,Object(l.useRef)()),s=Object(l.useState)([]),d=Object(i.a)(s,2),u=d[0],b=d[1],p=Object(l.useState)(0),j=Object(i.a)(p,2),m=j[0],f=j[1],x=Object(l.useState)(0),g=Object(i.a)(x,2),v=g[0],y=g[1],_=Object(l.useState)([]),N=Object(i.a)(_,2),D=N[0],A=N[1],z=Object(l.useState)(!1),L=Object(i.a)(z,2),I=L[0],R=L[1],H=function(){var e=Object(k.a)(S.a.mark((function e(){var i,c,o,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new FormData,c=0;case 2:if(!(c<u.length)){e.next=10;break}return e.next=5,Object(E.a)(u[c].file,u[c].type);case 5:o=e.sent,i.append("excel",o);case 7:c++,e.next=2;break;case 10:r={onUploadProgress:function(e){f(Math.round(100*e.loaded/e.total))},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(n)}},w.b.post(a,i,r).then((function(e){e&&(e.data.rows,O.b.success("Excel \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d. \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439"),R(!0),b([]),y(0),f(0),R({id:t.id,success:!1}),A([]),b([]))})).catch((function(e){b([]),y(0),R(!1),f(0),A([]),console.log(e)}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){0!==u.length&&0!==v&&!0===o&&u.length===v&&H();var e=r;return function(){!1===o&&(b([]),y(0),R(!1),f(0),A([]),e.current&&(e.current.value=""))}}),[u,o]),Object(h.jsx)("div",{className:"flex flex-col justify-between w-full",children:Object(h.jsxs)("div",{className:"bg-white w-full shadow  border border-opacity-10 flex flex-col sm:flex-row justify-start items-center relative rounded-lg overflow-hidden py-2 sm:py-0",children:[t.destination?Object(h.jsx)("img",{src:"".concat("http://45.93.136.141:7010","/").concat(null===t||void 0===t?void 0:t.destination,"-big.webp"),className:"object-contain rounded-lg w-48 sm:w-28 sm:h-28",alt:"CTYPE"}):null,Object(h.jsxs)("div",{className:"flex flex-col justify-between py-1 items-center w-full h-20 sm:h-28",children:[Object(h.jsx)("div",{className:"relative flex flex-col h-full justify-between items-center w-full pt-2 sm:pt-5",children:Object(h.jsxs)("label",{htmlFor:"doc-".concat(t.id),className:" cursor-pointer active:bg-gray-50 flex flex-row justify-center items-center border-2 px-2 py-1 rounded-lg text-blue-500 border-blue-500 border-dashed w-30",children:[Object(h.jsx)(M.RiInboxUnarchiveLine,{className:"text-xl mr-2"}),Object(h.jsx)("p",{className:"font-medium text-sm flex flex-col items-center justify-center",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"}),Object(h.jsx)("input",{ref:r,id:"doc-".concat(t.id),type:"file",onChange:function(e){e.preventDefault();var t=Object.values(e.target.files);(function(e,t){return!(t.length+u.length>1)||(e.target.files=null,e.target.value="",O.b.error("".concat(1," suratdan artykma\xe7 \xfd\xfckl\xe4p bolanok!")),!1)})(e,t)&&(y(t.length),t.forEach((function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(t){b((function(n){return[].concat(Object(c.a)(n),[{file:t.target.result,type:e.type}])})),A((function(t){return[].concat(Object(c.a)(t),[e.name])}))}})))},multiple:t.multiple,accept:t.mimetype_web,required:t.required,hidden:!0})]})}),Object(h.jsx)("div",{className:"w-full px-2 sm:mb-2",children:Object(h.jsxs)("div",{className:"relative flex flex-row justify-center items-center w-full pt-1",children:[Object(h.jsxs)("div",{className:"px-2 w-full",children:[Object(h.jsx)("div",{className:"text-xs font-light text-blue-600 w-full",children:D.join(", ")}),Object(h.jsx)("div",{className:"overflow-hidden w-full h-2 text-xs flex rounded bg-gray-300",children:Object(h.jsx)("div",{style:{width:"".concat(m,"%")},className:"".concat(!0===I&&100===m?"bg-green-400":"bg-blue-500 "," shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center transform ease-in-out duration-200")})})]}),Object(h.jsxs)("div",{className:"relative flex flex-row justify-end items-center w-14 text-base -mt-2",children:[Object(h.jsx)(T.MdDone,{className:"".concat(!0===I&&100===m?"opacity-100":"opacity-0"," absolute top-0 -left-2 text-3xl text-green-500 mr-1 transform ease-in-out duration-500")}),Object(h.jsx)("div",{className:"".concat(!0!==I&&100!==m?"opacity-100":"opacity-0"," absolute top-0 -left-1   transform ease-in-out duration-500 font-medium text-blue-500 whitespace-nowrap"),children:"".concat(m," %")}),Object(h.jsx)(C.MdDeleteForever,{onClick:function(){f(0),R({id:t.id,success:!1}),A([]),b([]),r.current&&(r.current.value="")},className:"text-2xl text-gray-400 -mr-1 cursor-pointer z-30 hover:text-red-300 active:text-red-400"})]})]})})]})]})})};var A=function(e){return f.c().shape({name_tm:"sale"===e?f.d().nullable(!0):f.d().min(5,"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(75,"\u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 50 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),description_tm:"sale"===e?f.d().nullable(!0):f.d().min(10,"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 10 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(200,"\u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 50 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),name_ru:"sale"===e?f.d().nullable(!0):f.d().min(5,"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(75,"\u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 50 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),description_ru:"sale"===e?f.d().nullable(!0):f.d().min(10,"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 10 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(200,"\u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 50 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),name_en:"sale"===e?f.d().nullable(!0):f.d().min(5,"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(75,"\u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 50 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),description_en:"sale"===e?f.d().nullable(!0):f.d().min(10,"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 10 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").max(200,"\u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 50 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),price:"sale"===e?f.d().nullable(!0):f.b().min(0).max(1e5,"\u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 1000000").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),stock:"sale"===e?f.d().nullable(!0):f.b().min(0).max(1e5,"\u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 1000000").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),producer_id:"sale"===e?f.d().nullable(!0):f.b().min(1,"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043b\u043d\u043e\u0435 \u043f\u043e\u043b\u0435").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043b\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),category_id:"sale"===e?f.d().nullable(!0):f.b().min(1,"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043b\u043d\u043e\u0435 \u043f\u043e\u043b\u0435").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043b\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),product_id:"sale"===e?f.b().required():f.d().nullable(!0)})},z=function(e){var t,n,a,c,s,d,u,b,p,f,N,S,k,E=e.visible,C=e.values,T=e.form,M=e.token,z=e.setCloseModal,L=e.title,I=e.addedProduct,R=e.setUploadedImage,H=e.updateProduct,U=e.addSale,P=Object(l.useState)([]),F=Object(i.a)(P,2),B=F[0],V=F[1],G=Object(l.useState)([]),W=Object(i.a)(G,2),q=W[0],X=W[1],Y=Object(m.d)({resolver:Object(x.a)(A(T)),defaultValues:Object(o.a)({},C)}),$=Y.register,J=Y.handleSubmit,K=Y.formState.errors,Q=Y.watch,Z=Y.reset,ee=Y.setValue,te=Object(g.b)();Object(l.useEffect)((function(){"update"===T&&(ee("name_tm",C.name_tm),ee("description_tm",C.description_tm),ee("name_ru",C.name_ru),ee("description_ru",C.description_ru),ee("name_en",C.name_en),ee("description_en",C.description_en),ee("price",C.price),ee("stock",C.stock),ee("category_id",C.category_id),ee("producer_id",C.producer_id)),"sale"===T&&(ee("product_id",C.id),ee("discount_type_id",1),ee("min_value",1))}),[T]);var ne=Object(l.useState)(),ae=Object(i.a)(ne,2),ie=ae[0],ce=ae[1],oe=Object(l.useState)(),re=Object(i.a)(oe,2),se=re[0],le=re[1],de=Object(l.useState)(!1),ue=Object(i.a)(de,2),he=ue[0],be=ue[1],pe=Object(l.useState)(!1),je=Object(i.a)(pe,2),me=je[0],fe=je[1];return Object(l.useEffect)((function(){te(Object(v.a)({url:"api/admin/producers",token:M,action:function(e){e.success?V(e.data.rows):O.b.error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430")}}))}),[]),Object(l.useEffect)((function(){te(Object(v.a)({url:"api/admin/categories",token:M,action:function(e){e.success?X(e.data.rows):O.b.error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430")}}))}),[]),Object(h.jsx)(j.a,{size:"lg",visible:E,title:L,setCloseModal:function(){z(),Z({}),ce(null),fe(!1),le(null)},children:Object(h.jsxs)("form",{onSubmit:J((function(e){console.log(e),be(!0),te(Object(v.b)({url:"add"===T?"api/admin/add-product":"update"===T?"api/admin/update-product/".concat(C.id):"sale"===T?"api/admin/add-sale":"",token:M,data:e,action:function(e){if(e.success)if("add"===T&&I(e.data.rows),"update"===T&&H(e.data.rows),"sale"===T&&U(e.data.rows),ie){var t="add"===T?e.data.rows.id:C.id,n=new FormData,a={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(M)}};n.append("picture",ie),w.b.post("api/admin/add-product-image/".concat(t),n,a).then((function(e){console.log(e.data),e&&(R({id:t,destination:e.data.rows.destination}),z(),Z({}))})).catch((function(e){O.b.error("\u041d\u0435 \u0441\u043c\u043e\u0433 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e")})),Z({}),ce(null),fe(!1),le(null)}else z(),Z({}),ce(null),fe(!1),le(null);else O.b.error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430"),z(),Z({}),fe(!1),ce(null),le(null)}})),be(!1),ce(null)})),children:["sale"===T?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"relative w-full mt-2",children:[Object(h.jsx)("label",{children:"\u0421\u043a\u0438\u0434\u043a\u0430 (\u0432 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u0430\u0445)"}),Object(h.jsx)("input",Object(o.a)(Object(o.a)({type:"text"},$("discount_value")),{},{autoComplete:"false",className:"".concat(K.discount_value?"border-2 border-red-300 ring-red-100":"ring-indigo-600"," px-3 shadow-inner h-10 w-full text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 "),placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 50"})),Object(h.jsx)("p",{className:"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400",children:null===(t=K.discount_value)||void 0===t?void 0:t.message})]}),Object(h.jsxs)("div",{className:"py-3 flex flex-col",children:[Object(h.jsx)("label",{className:"pl-2 pb-3",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e"}),Object(h.jsx)("input",Object(o.a)(Object(o.a)({},$("start_date")),{},{type:"text",onFocus:function(e){e.currentTarget.type="date"},onBlur:function(e){return e.currentTarget.type="text"},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e",className:"ring-indigo-600 px-3 shadow-inner h-12 text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2"})),Object(h.jsx)("p",{className:"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400",children:null===(n=K.start_date)||void 0===n?void 0:n.message})]}),Object(h.jsxs)("div",{className:"py-3 flex flex-col",children:[Object(h.jsx)("label",{className:"pl-2 pb-3",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043d\u0435\u0447\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e"}),Object(h.jsx)("input",Object(o.a)(Object(o.a)({},$("end_date")),{},{type:"text",onFocus:function(e){e.currentTarget.type="date"},onBlur:function(e){return e.currentTarget.type="text"},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e",className:"ring-indigo-600 px-3 shadow-inner h-12 text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2"})),Object(h.jsx)("p",{className:"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400",children:null===(a=K.end_date)||void 0===a?void 0:a.message})]})]}):"add"===T||"update"===T?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"flex flex-row",children:[Object(h.jsxs)("div",{className:"w-1/3 px-2",children:[Object(h.jsxs)("div",{className:"relative w-full mb-6",children:[Object(h.jsx)("label",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u043d\u0430 \u0442\u0443\u0440\u043a\u043c\u0435\u043d\u0441\u043a\u043e\u043c"}),Object(h.jsx)("input",Object(o.a)(Object(o.a)({type:"text"},$("name_tm")),{},{autoComplete:"false",name:"name_tm",className:"".concat(K.name_tm?"border-2 border-red-300 ring-red-100":"ring-indigo-600"," px-3 shadow-inner h-10 w-full text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 "),placeholder:"Max-Deluxe"})),Object(h.jsx)("p",{className:"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400",children:null===(c=K.name_tm)||void 0===c?void 0:c.message})]}),Object(h.jsxs)("div",{className:"flex flex-col w-full relative mb-6 p-2",children:[Object(h.jsx)("label",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u0442\u0443\u0440\u043a\u043c\u0435\u043d\u0441\u043a\u043e\u043c"}),Object(h.jsx)("textarea",Object(o.a)(Object(o.a)({type:"text"},$("description_tm")),{},{name:"description_tm",autoComplete:"false",className:"".concat(K.description_tm?"border-2 border-red-300 ring-red-100":"ring-indigo-600"," px-3 shadow-inner h-24 text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 "),placeholder:"\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c"})),Object(h.jsx)("p",{className:"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400",children:null===(s=K.description_tm)||void 0===s?void 0:s.message})]})]}),Object(h.jsxs)("div",{className:"w-1/3 px-2",children:[Object(h.jsxs)("div",{className:"relative w-full mb-6",children:[Object(h.jsx)("label",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c"}),Object(h.jsx)("input",Object(o.a)(Object(o.a)({type:"text"},$("name_ru")),{},{autoComplete:"false",name:"name_ru",className:"".concat(K.name_ru?"border-2 border-red-300 ring-red-100":"ring-indigo-600"," px-3 shadow-inner h-10 w-full text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 "),placeholder:"Max-Deluxe"})),Object(h.jsx)("p",{className:"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400",children:null===(d=K.name_ru)||void 0===d?void 0:d.message})]}),Object(h.jsxs)("div",{className:"flex flex-col w-full relative mb-6 p-2",children:[Object(h.jsx)("label",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c"}),Object(h.jsx)("textarea",Object(o.a)(Object(o.a)({type:"text"},$("description_ru")),{},{name:"description_ru",autoComplete:"false",className:"".concat(K.description_ru?"border-2 border-red-300 ring-red-100":"ring-indigo-600"," px-3 shadow-inner h-24 text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 "),placeholder:"\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c"})),Object(h.jsx)("p",{className:"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400",children:null===(u=K.description_ru)||void 0===u?void 0:u.message})]})]}),Object(h.jsxs)("div",{className:"w-1/3 px-2",children:[Object(h.jsxs)("div",{className:"relative w-full mb-6",children:[Object(h.jsx)("label",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c"}),Object(h.jsx)("input",Object(o.a)(Object(o.a)({type:"text"},$("name_en")),{},{autoComplete:"false",name:"name_en",className:"".concat(K.name_en?"border-2 border-red-300 ring-red-100":"ring-indigo-600"," px-3 shadow-inner h-10 w-full text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 "),placeholder:"Max-Deluxe"})),Object(h.jsx)("p",{className:"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400",children:null===(b=K.name_en)||void 0===b?void 0:b.message})]}),Object(h.jsxs)("div",{className:"flex flex-col w-full relative mb-6 p-2",children:[Object(h.jsx)("label",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c"}),Object(h.jsx)("textarea",Object(o.a)(Object(o.a)({type:"text"},$("description_en")),{},{name:"description_en",autoComplete:"false",className:"".concat(K.description_en?"border-2 border-red-300 ring-red-100":"ring-indigo-600"," px-3 shadow-inner h-24 text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 "),placeholder:"\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c"})),Object(h.jsx)("p",{className:"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400",children:null===(p=K.description_en)||void 0===p?void 0:p.message})]})]})]}),Object(h.jsxs)("div",{className:"flex flex-row",children:[Object(h.jsx)("div",{className:"w-1/2 ",children:Object(h.jsxs)("div",{className:"flex flex-col",children:[Object(h.jsxs)("div",{className:"flex flex-col w-full relative mb-6 ",children:[Object(h.jsx)("label",{children:"\u0426\u0435\u043d\u0430"}),Object(h.jsx)("input",Object(o.a)(Object(o.a)({type:"text"},$("price")),{},{autoComplete:"false",name:"price",className:"".concat(K.price?"border-2 border-red-300 ring-red-100":"ring-indigo-600"," px-3 shadow-inner h-10 w-full text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 "),placeholder:"150"})),Object(h.jsx)("p",{className:"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400",children:null===(f=K.price)||void 0===f?void 0:f.message})]}),Object(h.jsxs)("div",{className:"flex flex-col w-full relative mb-6 ",children:[Object(h.jsx)("label",{children:"\u041e\u0441\u0442\u0430\u0442\u043e\u043a"}),Object(h.jsx)("input",Object(o.a)(Object(o.a)({type:"text"},$("stock")),{},{autoComplete:"false",name:"stock",className:"".concat(K.stock?"border-2 border-red-300 ring-red-100":"ring-indigo-600"," px-3 shadow-inner h-10 w-full text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 "),placeholder:"150"})),Object(h.jsx)("p",{className:"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400",children:null===(N=K.stock)||void 0===N?void 0:N.message})]}),Object(h.jsxs)("div",{className:"flex flex-col w-full relative mb-6 ",children:[Object(h.jsx)("label",{children:"\u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f"}),Object(h.jsxs)("select",{value:Q("producer_id"),onChange:function(e){return ee("producer_id",e.target.value)},className:"px-3 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none  border-0 ring-1 ring-gray-300 dark:ring-gray-800 focus:ring-purple-700 dark:focus:ring-2 dark:focus:ring-gray-600 w-full cursor-pointer",children:[Object(h.jsx)("option",{value:0,children:"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c"},0),B.length>0&&B.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(h.jsx)("p",{className:"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400",children:null===(S=K.producer_id)||void 0===S?void 0:S.message})]}),Object(h.jsxs)("div",{className:"flex flex-col w-full relative mb-6 ",children:[Object(h.jsx)("label",{children:"\u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"}),Object(h.jsxs)("select",{value:Q("category_id"),onChange:function(e){return ee("category_id",e.target.value)},className:"px-3 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none  border-0 ring-1 ring-gray-300 dark:ring-gray-800 focus:ring-purple-700 dark:focus:ring-2 dark:focus:ring-gray-600 w-full cursor-pointer",children:[Object(h.jsx)("option",{value:0,children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"},0),q.length>0&&q.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.name_ru},e.id)}))]}),Object(h.jsx)("p",{className:"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400",children:null===(k=K.category_id)||void 0===k?void 0:k.message})]})]})}),"add"===T||!(null===C||void 0===C?void 0:C.destination)||me?Object(h.jsxs)("div",{className:"w-1/2 flex flex-col justify-center items-center",children:[Object(h.jsxs)("div",{className:"p-2",children:[Object(h.jsx)("label",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b"}),Object(h.jsx)("input",{type:"file",name:"picture",className:"px-3 py-5",onChange:function(e){return function(e){ce(e.target.files[0]),le(URL.createObjectURL(e.target.files[0]))}(e)}})]}),Object(h.jsx)("div",{className:"w-96 h-full",children:se?Object(h.jsx)("img",{className:"p-1 px-3 ",alt:"Hello world",src:se}):Object(h.jsx)(h.Fragment,{})})]}):"update"===T?Object(h.jsxs)("div",{className:"flex flex-row relative justify-center items-center w-96 h-full p-1 px-5",children:[Object(h.jsx)("div",{className:"absolute right-0 top-0 rounded-full",children:Object(h.jsx)(r.a,{tooltip:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",handleClick:function(){return fe(!0)},icon:Object(h.jsx)(_.BiTrash,{className:"text-2xl "})})}),Object(h.jsx)("img",{className:"object-contain rounded-md ",src:"".concat("http://45.93.136.141:7010","/").concat(null===C||void 0===C?void 0:C.destination,"-big.webp"),alt:"CTYPES"})]}):Object(h.jsx)(h.Fragment,{})]})]}):"import"===T?Object(h.jsx)(D,{myDocument:{id:1},token:M,url:"api/admin/import-from-excel",visible:!0,setUploadedImage:function(e){return console.log("hello world")}}):Object(h.jsx)(h.Fragment,{}),Object(h.jsx)("div",{className:"w-full flex justify-center items-center",children:Object(h.jsx)("button",{type:"submit",disabled:he,className:"w-48 flex remove-button-bg justify-center items-center px-4 h-10 text-white transform ease-in-out duration-300 hover:scale-110 active:scale-100 font-semibold text-base rounded-full bg-green-500 hover:bg-green-400 active:bg-green-500 focus:outline-none shadow-md",children:he?Object(h.jsx)(y.a,{loading:he}):Object(h.jsx)(h.Fragment,{children:"add"===T?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c":"update"===T?"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c":"sale"===T?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043a\u0438\u0434\u043a\u0443":""})})})]})})},L=n(90),I=n(91),R=n(93),H=n(89),U=n(92),P=n(106),F=n(108),B=n(99),V=n(159),G=n(109),W=n(132),q=n(277);function X(e,t){switch(console.log(t),t.type){case"ADD_FORM":return Object(o.a)(Object(o.a)({},e),{},{visible:!0,form:"add",values:"",title:"\u0424\u043e\u0440\u043c\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f"});case"SET_CLOSE_MODAL":return Object(o.a)(Object(o.a)({},e),{},{visible:!1,form:""});case"SET_DATA":return Object(o.a)(Object(o.a)({},e),{},{data:t.payload.products,count:+t.payload.count,loading:!1});case"SET_LOADING":return Object(o.a)(Object(o.a)({},e),{},{loading:t.payload});case"UPDATE_FORM":return Object(o.a)(Object(o.a)({},e),{},{visible:!0,values:t.payload,form:"update",title:"\u0424\u043e\u0440\u043c\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f"});case"ADD_PRODUCT":return Object(o.a)(Object(o.a)({},e),{},{data:[].concat(Object(c.a)(e.data),[t.payload])});case"SET_UPLOADED_IMAGE":return Object(o.a)(Object(o.a)({},e),{},{data:e.data.map((function(e){return e.id===+t.payload.image_id&&(e.destination=t.payload.destination),e})),visible:!1});case"SALE_FORM":return Object(o.a)(Object(o.a)({},e),{},{form:"sale",visible:!0,title:"\u0424\u043e\u0440\u043c\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u043a\u0438\u0434\u043a\u0438",values:t.payload});case"UPDATE_PRODUCT":return Object(o.a)(Object(o.a)({},e),{},{data:e.data.map((function(e){return e.id===+t.payload.id&&(e=t.payload),e}))});case"SET_LIMIT":return Object(o.a)(Object(o.a)({},e),{},{limit:t.payload,page:0,trigger:!e.trigger,loading:!0});case"SET_PAGE":return Object(o.a)(Object(o.a)({},e),{},{page:t.payload,trigger:!e.trigger,loading:!0});case"SET_SEACRH":return Object(o.a)(Object(o.a)({},e),{},{search:t.payload,trigger:!e.trigger,page:0,loading:!0});case"ADD_SALE":return Object(o.a)(Object(o.a)({},e),{},{data:e.data.map((function(e){return e.id===+t.payload.product_id&&(e.discount_id=t.payload.id,e.discount_value=t.payload.discount_value,e.low_val=t.payload.low,e.upper_val=t.payload.upper),e}))});case"IMPORT_EXCEL":return Object(o.a)(Object(o.a)({},e),{},{form:"import",visible:!0,title:"\u0418\u043c\u043f\u043e\u0440\u0442 excel \u0444\u0430\u0439\u043b\u0430"});case"SET_PRODUCER":return Object(o.a)(Object(o.a)({},e),{},{producer_id:t.payload,trigger:!e.trigger,page:0});case"SET_CATEGORY":return Object(o.a)(Object(o.a)({},e),{},{category_id:t.payload,trigger:!e.trigger,page:0});case"SET_RECOMENDED":return Object(o.a)(Object(o.a)({},e),{},{data:e.data.map((function(e){return e.id===+t.payload.item_id&&(e.recomended=t.payload.value),e}))});case"SET_NEW_IN_COME":return Object(o.a)(Object(o.a)({},e),{},{data:e.data.map((function(e){return e.id===+t.payload.item_id&&(e.new_in_come=t.payload.value),e}))});case"SET_SORT":return Object(o.a)(Object(o.a)({},e),{},{sort_column:t.payload.column,sort_direction:t.payload.direction,page:0,trigger:!e.trigger});default:return e}}var Y=function(e){var t=e.handleClick,n=e.handleSearch,a=e.handleExcel,i=e.producers,c=e.categories,o=e.setProducer,l=e.setCategory,d=e.category_id,u=e.producer_id;return Object(h.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[Object(h.jsx)(r.a,{tooltip:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442",handleClick:t,icon:Object(h.jsx)(s.IoMdAdd,{className:"text-2xl "})}),Object(h.jsx)("button",{type:"button",ripple:"light",onClick:a,className:"flex justify-center items-center w-48 h-10 mx-2 hover:text-white hover:bg-indigo-600 active:bg-white active:text-indigo-600 rounded-md focus:outline-none shadow-lg text-indigo-600 bg-white",children:"\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c excel"}),Object(h.jsx)("div",{className:"flex flex-col relative  ",children:Object(h.jsxs)("select",{value:u,onChange:function(e){return o(e.target.value)},className:"flex justify-center items-center h-10 mx-2 hover:text-white hover:bg-indigo-600 active:bg-white active:text-indigo-600 rounded-md focus:outline-none shadow-lg text-indigo-600 bg-white cursor-pointer",children:[Object(h.jsx)("option",{value:"",children:"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c"},0),(null===i||void 0===i?void 0:i.length)>0&&i.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.name},e.id)}))]})}),Object(h.jsx)("div",{className:"flex flex-col  relative  ",children:Object(h.jsxs)("select",{value:d,onChange:function(e){return l(e.target.value)},className:"flex justify-center items-center h-10 mx-2 hover:text-white hover:bg-indigo-600 active:bg-white active:text-indigo-600 rounded-md focus:outline-none shadow-lg text-indigo-600 bg-white cursor-pointer",children:[Object(h.jsx)("option",{value:"",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"},0),(null===c||void 0===c?void 0:c.length)>0&&c.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.name_ru},e.id)}))]})}),Object(h.jsx)("div",{className:"w-80",children:Object(h.jsx)(b,{action:function(e){return n(e)},placeholder:"\u041f\u043e\u0438\u0441\u043a"})})]})};t.default=function(){var e,t,n=Object(l.useReducer)(X,(e={visible:!1,form:"",title:"",data:[],page:0,category_id:"",sort_column:"",sort_direction:"",limit:30,count:0,values:"",loading:!0},Object(a.a)(e,"limit",20),Object(a.a)(e,"search",""),Object(a.a)(e,"producer_id",""),e)),c=Object(i.a)(n,2),o=c[0],s=c[1],d=Object(g.b)(),u=Object(g.c)((function(e){return e.auth.token})),b=Object(l.useState)([]),j=Object(i.a)(b,2),m=j[0],f=j[1],x=Object(l.useState)([]),w=Object(i.a)(x,2),_=w[0],N=w[1];Object(l.useEffect)((function(){d(Object(v.a)({url:"api/admin/products?page=".concat(o.page,"&limit=").concat(o.limit,"&search=").concat(o.search,"&category_id=").concat(o.category_id,"&producer_id=").concat(o.producer_id,"&sort_column=").concat(o.sort_column,"&sort_direction=").concat(o.sort_direction),token:u,action:function(e){e.success?s({type:"SET_DATA",payload:e.data.rows}):(O.b.error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430"),s({type:"SET_LOADING",payload:!1}))}}))}),[o.trigger]),Object(l.useEffect)((function(){d(Object(v.a)({url:"api/admin/producers",token:u,action:function(e){e.success?f(e.data.rows):O.b.error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430")}}))}),[]);var S=function(e){var t=e.setLoading,n=e.item_id,a=e.value;console.log(a),d(Object(v.b)({url:"api/admin/update-recomended/".concat(n),token:u,data:{value:a},action:function(e){e.success?(s({type:"SET_RECOMENDED",payload:{item_id:n,value:a}}),t(!1)):(O.b.error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u0430\u043d\u044f \u043e\u0448\u0438\u0431\u043a\u0430"),t(!1))}}))},k=function(e){var t=e.setLoading,n=e.item_id,a=e.value;console.log(a),d(Object(v.b)({url:"api/admin/update-new-in-come/".concat(n),token:u,data:{value:a},action:function(e){e.success?(s({type:"SET_NEW_IN_COME",payload:{item_id:n,value:a}}),t(!1)):(O.b.error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u0430\u043d\u044f \u043e\u0448\u0438\u0431\u043a\u0430"),t(!1))}}))};Object(l.useEffect)((function(){d(Object(v.a)({url:"api/admin/categories",token:u,action:function(e){e.success?N(e.data.rows):O.b.error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430")}}))}),[]);var E=function(e){o.sort_column===e?"ASC"===o.sort_direction?s({type:"SET_SORT",payload:{direction:"DESC",column:e}}):s({type:"SET_SORT",payload:{direction:"ASC",column:e}}):s({type:"SET_SORT",payload:{direction:"DESC",column:e}})};return Object(h.jsxs)(p.a,{header:Object(h.jsx)(Y,{handleClick:function(){return s({type:"ADD_FORM",payload:""})},handleSearch:function(e){return s({type:"SET_SEACRH",payload:e})},handleExcel:function(){return s({type:"IMPORT_EXCEL",payload:""})},producers:m,setProducer:function(e){return s({type:"SET_PRODUCER",payload:e})},setCategory:function(e){return s({type:"SET_CATEGORY",payload:e})},categories:_,category_id:o.category_id,producer_id:o.producer_id}),footer:Object(h.jsx)(G.a,{setPage:function(e){return s({type:"SET_PAGE",payload:e})},limit:+o.limit,count:+o.count,page:o.page,setLimit:function(e){return s({type:"SET_LIMIT",payload:e})}}),children:[Object(h.jsx)(z,{visible:o.visible,title:o.title,form:o.form,token:u,values:o.values,setCloseModal:function(){return s({type:"SET_CLOSE_MODAL",payload:""})},addedProduct:function(e){return s({type:"ADD_PRODUCT",payload:e})},setUploadedImage:function(e){return s({type:"SET_UPLOADED_IMAGE",payload:e})},updateProduct:function(e){return s({type:"UPDATE_PRODUCT",payload:e})},addSale:function(e){return s({type:"ADD_SALE",payload:e})}}),Object(h.jsx)(y.a,{loading:o.loading}),Object(h.jsx)("div",{className:"w-full h-full px-6 overflow-y-auto pb-20 ",children:Object(h.jsxs)(L.a,{children:[Object(h.jsx)(I.a,{children:Object(h.jsx)(R.a,{children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(H.a,{children:Object(h.jsxs)("div",{onClick:function(){return E("p.id")},className:"".concat("id"===o.sort_column?"text-blue-500":""," px-2 py-4 font-medium flex flex-row justify-start items-center cursor-pointer"),children:[Object(h.jsx)("span",{children:"ID"}),Object(h.jsx)(q.TiArrowSortedUp,{className:"".concat("ASC"===o.sort_direction&&"p.id"===o.sort_column?"":"rotate-180"," text-xl mt-1 ml-2 transform duration-300 ease-in-out")})]})}),Object(h.jsx)(H.a,{children:Object(h.jsx)("div",{className:" px-2 py-4 font-medium flex flex-row justify-start items-center ",children:"\u0418\u043c\u044f \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430"})}),Object(h.jsx)(H.a,{children:Object(h.jsx)("div",{className:" px-2 py-4 font-medium flex flex-row justify-start items-center ",children:"\u0426\u0435\u043d\u0430"})}),Object(h.jsx)(H.a,{children:Object(h.jsx)("div",{className:" px-2 py-4 font-medium flex flex-row justify-start items-center ",children:"\u041e\u0441\u0442\u0430\u0442\u043e\u043a"})}),Object(h.jsx)(H.a,{children:Object(h.jsx)("div",{className:" px-2 py-4 font-medium flex flex-row justify-start items-center ",children:"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c"})}),Object(h.jsx)(H.a,{children:Object(h.jsx)("div",{className:" px-2 py-4 font-medium flex flex-row justify-start items-center ",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"})}),Object(h.jsx)(H.a,{children:Object(h.jsx)("div",{className:" px-2 py-4 font-medium flex flex-row justify-start items-center ",children:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f"})}),Object(h.jsx)(H.a,{children:Object(h.jsxs)("div",{onClick:function(){return E("p.recomended")},className:"".concat("p.recomended"===o.sort_column?"text-blue-500":""," px-2 py-4 font-medium flex flex-row justify-start items-center cursor-pointer"),children:[Object(h.jsx)("span",{children:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u043e\u0432\u0430\u043d\u043d\u044b\u0435"}),Object(h.jsx)(q.TiArrowSortedUp,{className:"".concat("ASC"===o.sort_direction&&"p.recomended"===o.sort_column?"":"rotate-180"," text-xl mt-1 ml-2 transform duration-300 ease-in-out")})]})}),Object(h.jsx)(H.a,{children:Object(h.jsxs)("div",{onClick:function(){return E("p.new_in_come")},className:"".concat("p.new_in_come"===o.sort_column?"text-blue-500":""," px-2 py-4 font-medium flex flex-row justify-start items-center cursor-pointer"),children:["\u041d\u043e\u0432\u0438\u043d\u043a\u0430",Object(h.jsx)(q.TiArrowSortedUp,{className:"".concat("ASC"===o.sort_direction&&"p.new_in_come"===o.sort_column?"":"rotate-180"," text-xl mt-1 ml-2 transform duration-300 ease-in-out")})]})}),Object(h.jsx)(H.a,{children:Object(h.jsx)("div",{className:" px-2 py-4 font-medium flex flex-row justify-start items-center ",children:"\u0421\u043a\u0438\u0434\u043a\u0430"})}),Object(h.jsx)(H.a,{children:Object(h.jsx)("div",{className:" px-2 py-4 font-medium flex flex-row justify-start items-center ",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"})})]})})}),Object(h.jsx)(U.a,{children:(null===(t=o.data)||void 0===t?void 0:t.length)>0?o.data.map((function(e){return Object(h.jsx)(R.a,{children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(H.a,{children:Object(h.jsx)("div",{className:"p-2",children:null===e||void 0===e?void 0:e.id})}),Object(h.jsx)(H.a,{children:Object(h.jsx)("div",{className:"p-2",children:null===e||void 0===e?void 0:e.name})}),Object(h.jsx)(H.a,{children:Object(h.jsx)("div",{className:"p-2",children:null===e||void 0===e?void 0:e.price})}),Object(h.jsx)(H.a,{children:Object(h.jsx)("div",{className:"p-2",children:null===e||void 0===e?void 0:e.stock})}),Object(h.jsx)(H.a,{children:Object(h.jsx)("div",{className:"p-2",children:null===e||void 0===e?void 0:e.producer_name})}),Object(h.jsx)(H.a,{children:Object(h.jsx)("div",{className:"p-2",children:null===e||void 0===e?void 0:e.category_name})}),Object(h.jsx)(H.a,{children:Object(h.jsx)("div",{className:"p-2 flex justify-center items-center",children:(null===e||void 0===e?void 0:e.destination)?Object(h.jsx)("img",{className:"object-contain rounded-md w-28 h-28",src:"".concat("http://45.93.136.141:7010","/").concat(null===e||void 0===e?void 0:e.destination,"-big.webp"),alt:"CTYPES"}):Object(h.jsx)(P.BsImage,{className:"text-4xl text-gray-500 opacity-80"})})}),Object(h.jsx)(H.a,{children:Object(h.jsx)("div",{children:Object(h.jsx)(W.a,{status:e.recomended,item_id:e.id,handleStatus:S})})}),Object(h.jsx)(H.a,{children:Object(h.jsx)("div",{children:Object(h.jsx)(W.a,{status:e.new_in_come,item_id:e.id,handleStatus:k})})}),Object(h.jsx)(H.a,{children:Object(h.jsx)("div",{className:"p-2",children:(null===e||void 0===e?void 0:e.discount_id)?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{children:e.discount_value}),Object(h.jsxs)("p",{children:["\u043e\u0442 ",e.low_val.substring(0,10)]}),Object(h.jsxs)("p",{children:["\u0434\u043e ",e.upper_val.substring(0,10)]})]}):"No"})}),Object(h.jsx)(H.a,{children:Object(h.jsxs)("div",{className:"p-2 flex flex-row",children:[Object(h.jsx)(r.a,{tooltip:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",handleClick:function(){return s({type:"UPDATE_FORM",payload:e})},icon:Object(h.jsx)(B.BiEdit,{className:"text-2xl"})}),!(null===e||void 0===e?void 0:e.discount_id)&&Object(h.jsx)(r.a,{tooltip:"\u0421\u043a\u0438\u0434\u043a\u0438",handleClick:function(){return s({type:"SALE_FORM",payload:e})},icon:Object(h.jsx)(V.FcSalesPerformance,{className:"text-2xl"})})]})})]})},null===e||void 0===e?void 0:e.id)})):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("tr",{children:Object(h.jsx)("td",{colSpan:"10",children:Object(h.jsx)("div",{className:"flex w-full h-full py-20 justify-center items-center",children:Object(h.jsx)(F.a,{title:"\u041d\u0435\u0442 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432"})})})})})})]})})]})}},82:function(e,t,n){var a=n(79).GenIcon;e.exports.IoMdAdd=function(e){return a({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 277.333H277.333V416h-42.666V277.333H96v-42.666h138.667V96h42.666v138.667H416v42.666z"}}]})(e)}},95:function(e,t,n){"use strict";var a=n(3),i=n.n(a),c=n(10);function o(e){var t={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":".xlsx","application/vnd.ms-excel":".xlsx",".csv":".xlsx",csv:".xlsx","application/pdf":".pdf",".pdf":".pdf",pdf:".pdf","image/png":".png","image/jpeg":".jpeg","image/jpg":".jpg"};return t[e]?t[e]:""}var r=function(){var e=Object(c.a)(i.a.mark((function e(t,n){var a,c,r,s,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"===typeof t){e.next=2;break}return e.abrupt("return",!1);case 2:for(a=atob(t.split(",")[1]),c=[],r=0;r<a.length;r++)c.push(a.charCodeAt(r));return s=new Blob([new Uint8Array(c)],{type:n}),i=s,d="IMAGE-"+Date.now(),i.lastModifiedDate=new Date,i.name=d,l=i,e.abrupt("return",new File([l],l.name+o(s.type),{type:s.type}));case 8:case"end":return e.stop()}var i,d}),e)})));return function(t,n){return e.apply(this,arguments)}}();t.a=r},96:function(e,t,n){var a=n(79).GenIcon;e.exports.RiInboxUnarchiveLine=function(e){return a({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{fillRule:"nonzero",d:"M20 3l2 4v13a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7.004L4 3h16zm0 6H4v10h16V9zm-8 1l4 4h-3v4h-2v-4H8l4-4zm6.764-5H5.236l-.999 2h15.527l-1-2z"}}]}]})(e)}},97:function(e,t,n){var a=n(79).GenIcon;e.exports.MdDone=function(e){return a({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}}]})(e)}},98:function(e,t,n){var a=n(79).GenIcon;e.exports.MdDeleteForever=function(e){return a({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}}]})(e)}},99:function(e,t,n){var a=n(79).GenIcon;e.exports.BiEdit=function(e){return a({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7,17.013l4.413-0.015l9.632-9.54c0.378-0.378,0.586-0.88,0.586-1.414s-0.208-1.036-0.586-1.414l-1.586-1.586\tc-0.756-0.756-2.075-0.752-2.825-0.003L7,12.583V17.013z M18.045,4.458l1.589,1.583l-1.597,1.582l-1.586-1.585L18.045,4.458z M9,13.417l6.03-5.973l1.586,1.586l-6.029,5.971L9,15.006V13.417z"}},{tag:"path",attr:{d:"M5,21h14c1.103,0,2-0.897,2-2v-8.668l-2,2V19H8.158c-0.026,0-0.053,0.01-0.079,0.01c-0.033,0-0.066-0.009-0.1-0.01H5V5\th6.847l2-2H5C3.897,3,3,3.897,3,5v14C3,20.103,3.897,21,5,21z"}}]})(e)}}}]);
//# sourceMappingURL=7.349c526f.chunk.js.map