(this.webpackJsonpgamysh=this.webpackJsonpgamysh||[]).push([[6],{101:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=c(n(0)),r=c(n(28));function c(e){return e&&e.__esModule?e:{default:e}}function i(e){var t,n=e.children,r=e.size,c=e.active,i=e.toggler;return t="sm"===r?"max-w-sm":"lg"===r?"max-w-6xl":"max-w-3xl",a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"".concat(c?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"," grid place-items-center overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none transition-all duration-500"),onClick:i},a.default.createElement("div",{className:"transform ".concat(c?"opacity-100 translate-y-0":"opacity-0 -translate-y-10"," w-auto my-6 mx-auto ").concat(t," transition-all duration-500")},a.default.createElement("div",{className:"border-0 p-6 ".concat("lg"===r?"rounded-xl shadow-xl":"rounded-lg shadow-lg"," flex flex-col w-full bg-white outline-none focus:outline-none"),onClick:function(e){return e.stopPropagation()}},n))),a.default.createElement("div",{className:"".concat(c?"opacity-25 pointer-events-auto":"opacity-0 pointer-events-none"," fixed inset-0 z-40 bg-black transition-all duration-500")}))}i.defaultProps={size:"regular"},i.propTypes={children:r.default.node.isRequired,size:r.default.string.isRequired,active:r.default.bool.isRequired,toggler:r.default.func.isRequired}},102:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=c(n(0)),r=c(n(28));function c(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.children,n=e.toggler;return a.default.createElement("div",{className:"flex items-center justify-between mb-6"},a.default.createElement("h5",{className:"text-gray-900 text-2xl font-bold mt-0 mb-0"},t),a.default.createElement("button",{className:"p-1 bg-transparent absolute top-2 right-4 text-gray-900 text-3xl leading-none outline-none focus:outline-none",onClick:n},a.default.createElement("span",{className:"text-gray-900 text-3xl block"},"\xd7")))}i.propTypes={children:r.default.node.isRequired,toggler:r.default.func.isRequired}},103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=c(n(0)),r=c(n(28));function c(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.children;return a.default.createElement("div",{className:"relative flex-auto mb-6"},t)}i.propTypes={children:r.default.node.isRequired}},104:function(e,t,n){var a=n(77).GenIcon;e.exports.RiInboxUnarchiveLine=function(e){return a({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{fillRule:"nonzero",d:"M20 3l2 4v13a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7.004L4 3h16zm0 6H4v10h16V9zm-8 1l4 4h-3v4h-2v-4H8l4-4zm6.764-5H5.236l-.999 2h15.527l-1-2z"}}]}]})(e)}},105:function(e,t,n){var a=n(77).GenIcon;e.exports.MdDone=function(e){return a({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}}]})(e)}},106:function(e,t,n){var a=n(77).GenIcon;e.exports.MdDeleteForever=function(e){return a({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}}]})(e)}},107:function(e,t,n){"use strict";var a=n(79),r=n(3),c=n.n(r),i=n(10),l=n(12),o=n(0),s=n(29),u=n(14);function d(e){var t={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":".xlsx","application/vnd.ms-excel":".xlsx",".csv":".xlsx",csv:".xlsx","application/pdf":".pdf",".pdf":".pdf",pdf:".pdf","image/png":".png","image/jpeg":".jpeg","image/jpg":".jpg"};return t[e]?t[e]:""}var f=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var a,r,i,l,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"===typeof t){e.next=2;break}return e.abrupt("return",!1);case 2:for(a=atob(t.split(",")[1]),r=[],i=0;i<a.length;i++)r.push(a.charCodeAt(i));return l=new Blob([new Uint8Array(r)],{type:n}),c=l,s="IMAGE-"+Date.now(),c.lastModifiedDate=new Date,c.name=s,o=c,e.abrupt("return",new File([o],o.name+d(l.type),{type:l.type}));case 8:case"end":return e.stop()}var c,s}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=f,b=n(106),h=n(105),v=n(104),x=n(2);function m(e){var t=["Bytes","KB","MB","GB","TB"];if(0===e)return"n/a";var n=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return 0===n?"".concat(e," ").concat(t[n],")"):"".concat((e/Math.pow(1024,n)).toFixed(1)," ").concat(t[n])}t.a=function(e){var t=e.myDocument,n=e.token,r=e.url,d=e.visible,f=e.setUploadedImage,j=Object(o.useRef)(),g=Object(o.useState)([]),w=Object(l.a)(g,2),y=w[0],O=w[1],N=Object(o.useState)(0),M=Object(l.a)(N,2),k=M[0],E=M[1],z=Object(o.useState)(0),_=Object(l.a)(z,2),A=_[0],C=_[1],D=Object(o.useState)([]),H=Object(l.a)(D,2),I=H[0],L=H[1],T=Object(o.useState)(!1),V=Object(l.a)(T,2),R=V[0],B=V[1],S=function(){var e=Object(i.a)(c.a.mark((function e(){var a,i,l,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new FormData,i=0;case 2:if(!(i<y.length)){e.next=10;break}return e.next=5,p(y[i].file,y[i].type);case 5:l=e.sent,a.append("picture",l);case 7:i++,e.next=2;break;case 10:o={onUploadProgress:function(e){E(Math.round(100*e.loaded/e.total))},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(n)}},s.b.post(r,a,o).then((function(e){e&&(e.data.rows&&(f({id:t.id,destination:null}),f({id:t.id,destination:e.data.rows.destination})),B(!0),O([]),C(0),E(0),B({id:t.id,success:!1}),L([]),O([]))})).catch((function(e){O([]),C(0),B(!1),E(0),L([]),console.log(e)}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){0!==y.length&&0!==A&&!0===d&&y.length===A&&S();var e=j;return function(){!1===d&&(O([]),C(0),B(!1),E(0),L([]),e.current&&(e.current.value=""))}}),[y,d]),Object(x.jsx)("div",{className:"flex flex-col justify-between w-full",children:Object(x.jsxs)("div",{className:"bg-white w-full shadow  border border-opacity-10 flex flex-col sm:flex-row justify-start items-center relative rounded-lg overflow-hidden py-2 sm:py-0",children:[t.destination?Object(x.jsx)("img",{src:"".concat("http://45.93.136.141:7010","/").concat(null===t||void 0===t?void 0:t.destination,"-big.webp"),className:"object-contain rounded-lg w-48 sm:w-28 sm:h-28",alt:"CTYPE"}):null,Object(x.jsxs)("div",{className:"flex flex-col justify-between py-1 items-center w-full h-20 sm:h-28",children:[Object(x.jsx)("div",{className:"relative flex flex-col h-full justify-between items-center w-full pt-2 sm:pt-5",children:Object(x.jsxs)("label",{htmlFor:"doc-".concat(t.id),className:" cursor-pointer active:bg-gray-50 flex flex-row justify-center items-center border-2 px-2 py-1 rounded-lg text-blue-500 border-blue-500 border-dashed w-30",children:[Object(x.jsx)(v.RiInboxUnarchiveLine,{className:"text-xl mr-2"}),Object(x.jsx)("p",{className:"font-medium text-sm flex flex-col items-center justify-center",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"}),Object(x.jsx)("input",{ref:j,id:"doc-".concat(t.id),type:"file",onChange:function(e){e.preventDefault();var t=Object.values(e.target.files);(function(e,t){return!(t.length+y.length>1)||(e.target.files=null,e.target.value="",u.b.error("".concat(1," suratdan artykma\xe7 \xfd\xfckl\xe4p bolanok!")),!1)})(e,t)&&function(e,t){for(var n="",a=0;a<t.length;a++)t[a].size>10482944&&(n+=t[a].name+" g\xf6wrimi i\u0148 k\xf6p ".concat(m(10482944)," bolmaly!\n"));return""===n||(e.target.files=null,e.target.value="",u.b.error(n),!1)}(e,t)&&(C(t.length),t.forEach((function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(t){O((function(n){return[].concat(Object(a.a)(n),[{file:t.target.result,type:e.type}])})),L((function(t){return[].concat(Object(a.a)(t),[e.name])}))}})))},multiple:t.multiple,accept:t.mimetype_web,required:t.required,hidden:!0})]})}),Object(x.jsx)("div",{className:"w-full px-2 sm:mb-2",children:Object(x.jsxs)("div",{className:"relative flex flex-row justify-center items-center w-full pt-1",children:[Object(x.jsxs)("div",{className:"px-2 w-full",children:[Object(x.jsx)("div",{className:"text-xs font-light text-blue-600 w-full",children:I.join(", ")}),Object(x.jsx)("div",{className:"overflow-hidden w-full h-2 text-xs flex rounded bg-gray-300",children:Object(x.jsx)("div",{style:{width:"".concat(k,"%")},className:"".concat(!0===R&&100===k?"bg-green-400":"bg-blue-500 "," shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center transform ease-in-out duration-200")})})]}),Object(x.jsxs)("div",{className:"relative flex flex-row justify-end items-center w-14 text-base -mt-2",children:[Object(x.jsx)(h.MdDone,{className:"".concat(!0===R&&100===k?"opacity-100":"opacity-0"," absolute top-0 -left-2 text-3xl text-green-500 mr-1 transform ease-in-out duration-500")}),Object(x.jsx)("div",{className:"".concat(!0!==R&&100!==k?"opacity-100":"opacity-0"," absolute top-0 -left-1   transform ease-in-out duration-500 font-medium text-blue-500 whitespace-nowrap"),children:"".concat(k," %")}),Object(x.jsx)(b.MdDeleteForever,{onClick:function(){E(0),B({id:t.id,success:!1}),L([]),O([]),j.current&&(j.current.value="")},className:"text-2xl text-gray-400 -mr-1 cursor-pointer z-30 hover:text-red-300 active:text-red-400"})]})]})})]})]})})}},281:function(e,t,n){"use strict";n.r(t);var a=n(12),r=n(9),c=n(81),i=n(80),l=n(83),o=n(0),s=n(91),u=n(107),d=n(13),f=n(78),p=n(2);var b=function(e){var t=e.visible,n=e.setUploadedImage,a=e.form,r=(e.main_id,e.token),c=e.setCloseModal;return Object(p.jsx)(s.a,{size:"md",visible:t,setCloseModal:function(){return c()},title:"delete_image"===a?"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438",children:Object(p.jsx)(u.a,{visible:!0,myDocument:{id:1},token:r,setUploadedImage:n,url:"api/admin/add-banner"})})},h=(n(16),n(14)),v=n(94);function x(e,t){switch(console.log(t),t.type){case"ADD_BANNER":return Object(r.a)(Object(r.a)({},e),{},{visible:!0});case"SET_CLOSE_MODAL":return Object(r.a)(Object(r.a)({},e),{},{visible:!1});case"SET_DATA":return Object(r.a)(Object(r.a)({},e),{},{data:t.payload});case"DELETE_IMAGE":return Object(r.a)(Object(r.a)({},e),{},{data:e.data.filter((function(e){return e.id!==t.payload}))});default:return Object(r.a)({},e)}}var m=function(e){var t=e.handleClick;return Object(p.jsx)("div",{className:"flex flex-row justify-between items-center",children:Object(p.jsx)(i.a,{tooltip:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0431\u0430\u043d\u043d\u0435\u0440",handleClick:t,icon:Object(p.jsx)(l.IoMdAdd,{className:"text-2xl "})})})};t.default=function(){var e,t=Object(o.useReducer)(x,{data:[],visible:!1}),n=Object(a.a)(t,2),r=n[0],l=n[1],s=Object(d.c)((function(e){return e.auth.token})),u=Object(d.b)();return Object(o.useEffect)((function(){u(Object(f.a)({url:"api/admin/get-banners",token:s,action:function(e){e.success?l({type:"SET_DATA",payload:e.data.rows}):h.b.error("Something went wrong")}}))}),[]),Object(p.jsxs)(c.a,{header:Object(p.jsx)(m,{handleClick:function(){return l({type:"ADD_BANNER",payload:""})}}),children:[Object(p.jsx)(b,{visible:r.visible,setCloseModal:function(){return l({type:"SET_CLOSE_MODAL",payload:""})},token:s}),Object(p.jsx)("div",{className:"w-full h-full px-6 overflow-y-auto",children:Object(p.jsx)("div",{className:"grid grid-cols-3 gap-8 py-10",children:null===(e=r.data)||void 0===e?void 0:e.map((function(e){return Object(p.jsxs)("div",{className:"flex flex-row relative justify-center items-center",children:[Object(p.jsx)("div",{className:"absolute right-0 top-0 rounded-full",children:Object(p.jsx)(i.a,{tooltip:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",handleClick:function(){return t=e.id,void u(Object(f.b)({url:"api/admin/delete-banner/".concat(t),token:s,action:function(e){l({Type:"DELETE_IMAGE",payload:t})}}));var t},icon:Object(p.jsx)(v.BiTrash,{className:"text-2xl "})})}),Object(p.jsx)("img",{className:"fill p-2 object-container",src:"".concat("http://45.93.136.141:7010","/").concat(e.destination,"-big.webp")})]},e.id)}))})})]})}},78:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return o}));var a=n(3),r=n.n(a),c=n(10),i=n(29),l=(n(14),function(e){var t=e.url,n=e.token,a=e.action;return Object(c.a)(r.a.mark((function e(){var c,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get({url:t,token:n,withCredentials:!1});case 3:return c=e.sent,e.abrupt("return",a({success:!0,data:c.data}));case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",a({success:!1,message:null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l?void 0:l.data}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))}),o=function(e){var t=e.url,n=e.token,a=e.action,l=e.data;return function(){var e=Object(c.a)(r.a.mark((function e(c){var o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.post({url:t,params:l,withCredentials:!1,token:n});case 3:return o=e.sent,e.abrupt("return",a({success:!0,data:o.data}));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",a({success:!1,message:null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s?void 0:s.data,error:null===e.t0||void 0===e.t0?void 0:e.t0.response}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}},79:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(26);var r=n(19);function c(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},80:function(e,t,n){"use strict";var a=n(115),r=n.n(a),c=n(116),i=n.n(c),l=n(0),o=n(2);t.a=function(e){var t=e.icon,n=e.handleClick,a=e.tooltip,c=Object(l.useRef)();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",{type:"button",ref:c,ripple:"light",onClick:n,className:"flex justify-center items-center w-10 h-10 mx-2 hover:text-white hover:bg-indigo-600 active:bg-white active:text-indigo-600 rounded-md focus:outline-none shadow-lg text-indigo-600 bg-white",children:t}),Object(o.jsx)(r.a,{placement:"top",ref:c,children:Object(o.jsx)(i.a,{children:a})})]})}},81:function(e,t,n){"use strict";var a=n(2);t.a=function(e){var t=e.children,n=e.header,r=e.footer;return Object(a.jsxs)("div",{className:"flex flex-col justify-between relative w-full h-full px-1 sm:px-4 py-2 overflow-y-hidden",children:[Object(a.jsx)("div",{className:"w-full",children:n}),Object(a.jsx)("div",{className:"relative w-full h-full shadow-lg rounded-2xl overflow-hidden bg-white max-h-87 2xl:max-h-90 4xl:max-h-90",children:t}),Object(a.jsx)("div",{className:"w-full",children:r})]})}},83:function(e,t,n){var a=n(77).GenIcon;e.exports.IoMdAdd=function(e){return a({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 277.333H277.333V416h-42.666V277.333H96v-42.666h138.667V96h42.666v138.667H416v42.666z"}}]})(e)}},91:function(e,t,n){"use strict";var a=n(101),r=n.n(a),c=n(102),i=n.n(c),l=n(103),o=n.n(l),s=n(2);t.a=function(e){var t=e.visible,n=e.setCloseModal,a=e.size,c=e.title,l=e.children;return Object(s.jsxs)(r.a,{size:a,active:t,toggler:n,children:[Object(s.jsx)(i.a,{toggler:n,children:Object(s.jsx)("span",{className:"text-base md:text-xl",children:c})}),Object(s.jsx)(o.a,{children:l})]})}},94:function(e,t,n){var a=n(77).GenIcon;e.exports.BiTrash=function(e){return a({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M17.004 20L17.003 8h-1-8-1v12H17.004zM13.003 10h2v8h-2V10zM9.003 10h2v8h-2V10zM9.003 4H15.003V6H9.003z"}},{tag:"path",attr:{d:"M5.003,20c0,1.103,0.897,2,2,2h10c1.103,0,2-0.897,2-2V8h2V6h-3h-1V4c0-1.103-0.897-2-2-2h-6c-1.103,0-2,0.897-2,2v2h-1h-3 v2h2V20z M9.003,4h6v2h-6V4z M8.003,8h8h1l0.001,12H7.003V8H8.003z"}},{tag:"path",attr:{d:"M9.003 10H11.003V18H9.003zM13.003 10H15.003V18H13.003z"}}]})(e)}}}]);
//# sourceMappingURL=6.8a0fd596.chunk.js.map