{"version":3,"sources":["../node_modules/@react-icons/all-files/go/GoSearch.js","../node_modules/@react-icons/all-files/bi/BiTrash.js","components/useTimeOut.js","components/SearchInput.js","pages/Products/Form.js","pages/Products/index.js","../node_modules/@react-icons/all-files/bs/BsImage.js","../node_modules/@react-icons/all-files/bi/BiEdit.js"],"names":["GenIcon","require","module","exports","GoSearch","props","BiTrash","useTimeout","action","time","useState","timeOut","setTime","value","clearTimeout","setTimeout","SearchInput","placeholder","handleSearch","useTimeOut","className","onChange","e","target","type","name","id","schema","form","Yup","shape","name_tm","nullable","min","max","required","description_tm","name_ru","description_ru","name_en","description_en","price","stock","producer_id","category_id","product_id","Form","visible","values","token","setCloseModal","title","addedProduct","setUploadedImage","updateProduct","producers","setProducers","categories","setCategories","useForm","resolver","yupResolver","defaultValues","register","handleSubmit","errors","formState","watch","reset","setValue","dispatch","useDispatch","useEffect","selectedFile","setSelectedFile","image","setImage","loading","setLoading","del_img","setDelImg","get","url","response","success","data","rows","toast","error","ModalContainer","size","onSubmit","console","log","post","formData","FormData","config","headers","Authorization","append","axiosInstance","then","res","destination","catch","err","autoComplete","min_value","message","discount_value","onFocus","currentTarget","onBlur","start_date","end_date","length","map","item","files","URL","createObjectURL","onChangeHandler","alt","src","IconButton","tooltip","handleClick","icon","process","disabled","BgLoader","reducer","state","payload","products","count","Header","IoMdAdd","Products","useReducer","page","limit","setState","useSelector","auth","Layout","header","Table","Head","Row","Cell","Body","producer_name","category_name","BsImage","BiEdit","FcSalesPerformance","colSpan","NoContent"],"mappings":"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","file":"static/js/9.1118fd10.chunk.js","sourcesContent":["// THIS FILE IS AUTO GENERATED\nvar GenIcon = require('../lib').GenIcon\nmodule.exports.GoSearch = function GoSearch (props) {\n  return GenIcon({\"tag\":\"svg\",\"attr\":{\"viewBox\":\"0 0 16 16\"},\"child\":[{\"tag\":\"path\",\"attr\":{\"fillRule\":\"evenodd\",\"d\":\"M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z\"}}]})(props);\n};\n","// THIS FILE IS AUTO GENERATED\nvar GenIcon = require('../lib').GenIcon\nmodule.exports.BiTrash = function BiTrash (props) {\n  return GenIcon({\"tag\":\"svg\",\"attr\":{\"viewBox\":\"0 0 24 24\"},\"child\":[{\"tag\":\"path\",\"attr\":{\"fill\":\"none\",\"d\":\"M17.004 20L17.003 8h-1-8-1v12H17.004zM13.003 10h2v8h-2V10zM9.003 10h2v8h-2V10zM9.003 4H15.003V6H9.003z\"}},{\"tag\":\"path\",\"attr\":{\"d\":\"M5.003,20c0,1.103,0.897,2,2,2h10c1.103,0,2-0.897,2-2V8h2V6h-3h-1V4c0-1.103-0.897-2-2-2h-6c-1.103,0-2,0.897-2,2v2h-1h-3 v2h2V20z M9.003,4h6v2h-6V4z M8.003,8h8h1l0.001,12H7.003V8H8.003z\"}},{\"tag\":\"path\",\"attr\":{\"d\":\"M9.003 10H11.003V18H9.003zM13.003 10H15.003V18H13.003z\"}}]})(props);\n};\n","import {useState} from 'react';\n \nfunction useTimeout({action, time}){\n    const [timeOut, setTime] = useState(0);\n    function handleChange(value){\n        if(timeOut) clearTimeout(timeOut);\n        setTime(\n            setTimeout(() => {action(value)}, time)\n        );\n    }\n    return handleChange;\n}\n \nexport default useTimeout;","import { func, string } from 'prop-types';\nimport useTimeOut from './useTimeOut';\nimport {GoSearch} from \"@react-icons/all-files/go/GoSearch\";\n\n\n \nfunction SearchInput({placeholder, action}){\n    const handleSearch = useTimeOut({time:1500, action:(value) => action(value)});\n    return(\n        <div className=\"relative w-full\">\n            <div className=\"absolute top-1 left-2 inset-y-0 flex items-center pl-1\">\n                <GoSearch className=\"text-xl text-indigo-600\" aria-hidden=\"true\" />\n            </div>\n            <input\n                className=\"pr-4 pl-10 h-10 text-gray-700 rounded-2xl appearance-none w-full bg-white shadow-sm placeholder-gray-400 focus:shadow-inner text-sm focus:outline-none\"\n                onChange={(e) =>handleSearch(e.target.value)} \n                type=\"search\" name=\"search\" id=\"search\" placeholder={placeholder}\n            />\n        </div>\n    );\n};\n \nSearchInput.propTypes = {\n    placeholder:string.isRequired,\n    action:func.isRequired\n}\n \nexport default SearchInput;","import  ModalContainer from \"../../components/ModalContainer\";\nimport { useForm } from \"react-hook-form\";\nimport * as Yup from 'yup';\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {get, post} from \"../../application/middlewares/index.js\"\nimport toast from \"react-hot-toast\";\nimport BgLoader from \"../../components/BgLoader\"\nimport { axiosInstance } from '../../application/api/index'\nimport IconButton from \"../../components/IconButton\";\nimport {BiTrash} from \"@react-icons/all-files/bi/BiTrash\"\n\n\nfunction Form ({visible, values, form, token, setCloseModal, title, addedProduct, setUploadedImage, updateProduct}){\n    const [producers, setProducers] = useState([]);\n    const [categories, setCategories] = useState([])\n    const {register,  handleSubmit, formState: { errors }, watch, reset, setValue} = useForm({\n        resolver:yupResolver(schema(form)),\n        defaultValues:{...values}\n    })\n\n    const dispatch = useDispatch();\n    \n    const onSubmit = (data) =>{\n        console.log(data)\n        setLoading(true)\n        dispatch(post({\n            url:form === \"add\" ? `api/admin/add-product` : \n                form === \"update\" ? `api/admin/update-product/${values.id}` : \n                form === \"sale\" ? `api/admin/add-sale` : \"\",\n            token,\n            data: data,\n            action: (response) =>{\n                if(response.success){\n                    // console.log(response.data.rows) \n                    if(form===\"add\"){\n                        addedProduct(response.data.rows);\n                    }\n                    if(form === \"update\"){\n                        // console.log(\"I am in if\")\n                        // console.log(response.data.rows)\n                        updateProduct(response.data.rows)\n                    }\n                    if(form===\"sale\"){\n\n                    }\n                    if(selectedFile){\n                        const id = response.data.rows.id\n\n                        const formData = new FormData()\n                        const config = {\n                            headers: {\n                                'Content-Type': 'multipart/form-data',\n                                Authorization: `Bearer ${token}`\n                            },\n                        }\n                        formData.append(\"picture\", selectedFile)\n                        axiosInstance.post(`api/admin/add-product-image/${id}`, formData, config).then(res =>{\n                            if(res){\n                                setUploadedImage({id, destination:res.data.rows[\"destination\"]})\n                                setCloseModal();\n                                reset({})\n                            }\n                        }).catch(err=>{\n                            toast.error(\"Не смог загрузить фотографию\")\n                        })\n                        reset({})\n                        setSelectedFile(null);\n                        setDelImg(false);\n                        setImage(null)\n                    }else{\n                        setCloseModal()\n                        reset({})\n                        setSelectedFile(null);\n                        setDelImg(false);\n                        setImage(null)\n                    }\n                }else{\n                    toast.error(\"Неизвестная ошибка\");\n                    setCloseModal()\n                    reset({});\n                    setDelImg(false)\n                    setSelectedFile(null);\n                    setImage(null)\n                }\n            }\n        }))\n        setLoading(false)\n        setSelectedFile(null)\n    }\n\n    useEffect(()=>{\n        if(form===\"update\"){\n            setValue(\"name_tm\", values.name_tm);\n            setValue(\"description_tm\", values.description_tm);\n            setValue(\"name_ru\", values.name_ru);\n            setValue(\"description_ru\", values.description_ru);\n            setValue(\"name_en\", values.name_en);\n            setValue(\"description_en\", values.description_en);\n            setValue(\"price\", values.price);\n            setValue(\"stock\", values.stock);\n            setValue(\"category_id\", values.category_id);\n            setValue(\"producer_id\", values.producer_id);\n        }\n        if(form === \"sale\"){\n            // console.log(\"hello\")\n            setValue(\"product_id\", values.id);\n            // console.log(values.id)\n            setValue(\"discount_type_id\", 1)\n        }\n    }, [form]) // eslint-disable-line react-hooks/exhaustive-deps\n\n    const [selectedFile, setSelectedFile] = useState()\n    const [image, setImage] = useState()\n    const [loading, setLoading] = useState(false)\n    const [del_img, setDelImg] = useState(false)\n\n    const onChangeHandler = (e) =>{\n        setSelectedFile(e.target.files[0])\n        setImage(URL.createObjectURL(e.target.files[0]))\n    }\n\n    \n    useEffect(()=>{\n        dispatch(get({\n            url:`api/admin/producers`,\n            token,\n            action: (response) =>{\n                if(response.success){\n                    setProducers(response.data.rows)\n                }else{\n                    toast.error(\"Неизвестная ошибка\")\n                }\n            }\n        }))\n    }, []) // eslint-disable-line react-hooks/exhaustive-deps\n\n    useEffect(()=>{\n        dispatch(get({\n            url:`api/admin/categories`,\n            token,\n            action: (response) =>{\n                if(response.success){\n                    setCategories(response.data.rows)\n                }else{\n                    toast.error(\"Неизвестная ошибка\")\n                }\n            }\n        }))\n    }, []) // eslint-disable-line react-hooks/exhaustive-deps\n    return (\n        <ModalContainer size = \"lg\"\n            visible = {visible}\n            title = {title}\n            setCloseModal = {()=>{\n                setCloseModal();\n                reset({});\n                setSelectedFile(null);\n                setDelImg(false);\n                setImage(null)\n            }}\n        >\n        <form onSubmit = {handleSubmit(onSubmit)}>\n            {\n                form === \"sale\" ? \n                <>\n                    <div className=\"relative w-full mt-2\">\n                        <label>Минимальное количество</label>\n                        <input type=\"text\" {...register(\"min_value\")}\n                            autoComplete=\"false\"\n                            className={`${errors.min_value ? 'border-2 border-red-300 ring-red-100' : 'ring-indigo-600'} px-3 shadow-inner h-10 w-full text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 `}\n                            placeholder=\"Например 1\"\n                        />\n                        <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                            {errors.min_value?.message}\n                        </p>\n                    </div>\n                    \n                    <div className=\"relative w-full mt-2\">\n                        <label>Скидка (в процентах)</label>\n                        <input type=\"text\" {...register(\"discount_value\")}\n                            autoComplete=\"false\"\n                            className={`${errors.discount_value ? 'border-2 border-red-300 ring-red-100' : 'ring-indigo-600'} px-3 shadow-inner h-10 w-full text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 `}\n                            placeholder=\"Например 50\"\n                        />\n                        <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                            {errors.discount_value?.message}\n                        </p>\n                    </div>\n                    <div className = \"py-3 flex flex-col\">\n                        <label className = \"pl-2 pb-3\">Введите начальное число</label>\n                        <input {...register(\"start_date\")} type = \"text\" onFocus = {(e)=>{e.currentTarget.type=\"date\"}} onBlur={(e)=>e.currentTarget.type=\"text\"}  placeholder = \"Введите начальное число\" className = \"ring-indigo-600 px-3 shadow-inner h-12 text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2\"/>        \n                        <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                            {errors.start_date?.message}\n                        </p>\n                    </div>\n                    <div className = \"py-3 flex flex-col\">\n                        <label className = \"pl-2 pb-3\">Введите начальное число</label>\n                        <input {...register(\"end_date\")} type = \"text\" onFocus = {(e)=>{e.currentTarget.type=\"date\"}} onBlur={(e)=>e.currentTarget.type=\"text\"}  placeholder = \"Введите начальное число\" className = \"ring-indigo-600 px-3 shadow-inner h-12 text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2\"/>        \n                        <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                            {errors.end_date?.message}\n                        </p>\n                    </div>\n                </>\n                :\n            <>\n                <div className = \"flex flex-row\">\n                    <div className = \"w-1/3 px-2\">\n                        <div className=\"relative w-full mb-6\">\n                            <label>Название продукта на туркменском</label>\n                            <input type=\"text\" {...register(\"name_tm\")}\n                                autoComplete=\"false\" name = \"name_tm\"\n                                className={`${errors.name_tm ? 'border-2 border-red-300 ring-red-100' : 'ring-indigo-600'} px-3 shadow-inner h-10 w-full text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 `}\n                                placeholder=\"Max-Deluxe\"\n                            />\n                            <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                                {errors.name_tm?.message}\n                            </p>\n                        </div>\n                        <div className=\"flex flex-col w-full relative mb-6 p-2\">\n                            <label>Описание на туркменском</label>\n                            <textarea type=\"text\" {...register(\"description_tm\")} name=\"description_tm\"\n                                autoComplete=\"false\"\n                                className={`${errors.description_tm ? 'border-2 border-red-300 ring-red-100' : 'ring-indigo-600'} px-3 shadow-inner h-24 text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 `}\n                                placeholder=\"описание на русском\"\n                            />\n                            <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                                {errors.description_tm?.message}\n                            </p>\n                        </div>\n                    </div>\n                    <div className = \"w-1/3 px-2\">\n                        <div className=\"relative w-full mb-6\">\n                            <label>Название продукта на русском</label>\n                            <input type=\"text\" {...register(\"name_ru\")}\n                                autoComplete=\"false\" name = \"name_ru\"\n                                className={`${errors.name_ru ? 'border-2 border-red-300 ring-red-100' : 'ring-indigo-600'} px-3 shadow-inner h-10 w-full text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 `}\n                                placeholder=\"Max-Deluxe\"\n                            />\n                            <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                                {errors.name_ru?.message}\n                            </p>\n                        </div>\n                        <div className=\"flex flex-col w-full relative mb-6 p-2\">\n                            <label>Описание на русском</label>\n                            <textarea type=\"text\" {...register(\"description_ru\")} name=\"description_ru\"\n                                autoComplete=\"false\"\n                                className={`${errors.description_ru ? 'border-2 border-red-300 ring-red-100' : 'ring-indigo-600'} px-3 shadow-inner h-24 text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 `}\n                                placeholder=\"описание на русском\"\n                            />\n                            <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                                {errors.description_ru?.message}\n                            </p>\n                        </div>\n                    </div>\n                    <div className = \"w-1/3 px-2\">\n                        <div className=\"relative w-full mb-6\">\n                            <label>Название продукта на английском</label>\n                            <input type=\"text\" {...register(\"name_en\")}\n                                autoComplete=\"false\" name = \"name_en\"\n                                className={`${errors.name_en ? 'border-2 border-red-300 ring-red-100' : 'ring-indigo-600'} px-3 shadow-inner h-10 w-full text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 `}\n                                placeholder=\"Max-Deluxe\"\n                            />\n                            <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                                {errors.name_en?.message}\n                            </p>\n                        </div>\n                        <div className=\"flex flex-col w-full relative mb-6 p-2\">\n                            <label>Описание на английском</label>\n                            <textarea type=\"text\" {...register(\"description_en\")} name=\"description_en\"\n                                autoComplete=\"false\"\n                                className={`${errors.description_en ? 'border-2 border-red-300 ring-red-100' : 'ring-indigo-600'} px-3 shadow-inner h-24 text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 `}\n                                placeholder=\"описание на русском\"\n                            />\n                            <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                                {errors.description_en?.message}\n                            </p>\n                        </div>\n                    </div>\n                </div>\n                <div className = \"flex flex-row\">\n                    <div className = \"w-1/2 \">\n                        <div className = \"flex flex-col\">\n                            <div className=\"flex flex-col w-full relative mb-6 \">\n                                <label>Цена</label>\n                                    <input type=\"text\" {...register(\"price\")}\n                                        autoComplete=\"false\" name = \"price\"\n                                        className={`${errors.price ? 'border-2 border-red-300 ring-red-100' : 'ring-indigo-600'} px-3 shadow-inner h-10 w-full text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 `}\n                                        placeholder=\"150\"\n                                    />\n                                <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                                    {errors.price?.message}\n                                </p>\n                            </div>\n                            <div className=\"flex flex-col w-full relative mb-6 \">\n                                <label>Остаток</label>\n                                    <input type=\"text\" {...register(\"stock\")}\n                                        autoComplete=\"false\" name = \"stock\"\n                                        className={`${errors.stock ? 'border-2 border-red-300 ring-red-100' : 'ring-indigo-600'} px-3 shadow-inner h-10 w-full text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 `}\n                                        placeholder=\"150\"\n                                    />\n                                <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                                    {errors.stock?.message}\n                                </p>\n                            </div>\n                            <div className=\"flex flex-col w-full relative mb-6 \">\n                                <label>выберите производителя</label>\n                                <select value = {watch(\"producer_id\")} onChange = {(e)=>setValue(\"producer_id\", e.target.value)} className = \"px-3 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none  border-0 ring-1 ring-gray-300 dark:ring-gray-800 focus:ring-purple-700 dark:focus:ring-2 dark:focus:ring-gray-600 w-full cursor-pointer\">\n                                    <option key = {0} value = {0} >Производитель</option>\n                                    {producers.length > 0 &&\n                                        producers.map(item => (\n                                            <option key = {item.id} value = {item.id}>{item.name}</option>\n                                        ))\n                                    }\n                                </select>\n                                <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                                    {errors.producer_id?.message}\n                                </p>\n                            </div>\n                            <div className=\"flex flex-col w-full relative mb-6 \">\n                                <label>выберите категорию</label>\n                                <select value = {watch(\"category_id\")} onChange = {(e)=>setValue(\"category_id\", e.target.value)} className = \"px-3 py-2 placeholder-gray-400 text-gray-700 dark:text-gray-200  bg-white dark:bg-gray-700 rounded text-sm focus:outline-none  border-0 ring-1 ring-gray-300 dark:ring-gray-800 focus:ring-purple-700 dark:focus:ring-2 dark:focus:ring-gray-600 w-full cursor-pointer\" >\n                                    <option key = {0} value = {0}>Категория</option>\n                                    {categories.length > 0 &&\n                                        categories.map(item => (\n                                            <option key = {item.id} value = {item.id}>{item.name_ru}</option>\n                                        ))\n                                    }\n                                </select>\n                                <p className=\"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400\">\n                                    {errors.category_id?.message}\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                    {\n                        (form === \"add\" || !values?.destination || del_img) ? \n                        <div className = \"w-1/2 flex flex-col justify-center items-center\">\n                            <div className = \"p-2\">\n                                <label>Выберите файл</label>\n                                <input type = \"file\" name = \"picture\" className = \"px-3 py-5\" onChange = {(e)=>onChangeHandler(e)} />\n                            </div>\n                            <div className = \"w-96 h-full\">\n                            {image ? \n                                <img className = \"p-1 px-3 \" alt = \"Hello world\" src = {image}/>\n                            :\n                            <>\n                            </>\n                            }\n                            </div>\n                        </div>\n                        : form === \"update\" ?\n                            <div className = \"flex flex-row relative justify-center items-center\">\n                                <div className = \"absolute right-0 top-0 rounded-full\">\n                                    <IconButton tooltip = \"Удалить\" handleClick = {()=>setDelImg(true)} icon={<BiTrash className=\"text-2xl \"/>}/>\n                                </div>\n                                <img className = \"object-contain rounded-md w-auto h-94\" src={`${process.env.REACT_APP_FILE_URL}/${values?.destination}-big.webp`} alt=\"CTYPES\"/>\n                            </div>\n                        : <></>\n                    }\n                </div>\n            </>\n            }\n            <div className= \"w-full flex justify-center items-center\">\n                <button type=\"submit\"  disabled = {loading} className=\"w-48 flex remove-button-bg justify-center items-center px-4 h-10 text-white transform ease-in-out duration-300 hover:scale-110 active:scale-100 font-semibold text-base rounded-full bg-green-500 hover:bg-green-400 active:bg-green-500 focus:outline-none shadow-md\">\n                   {loading ? \n                   <BgLoader loading = {loading}/>\n                       :\n                       <>{form === \"add\" ? \"Добавить\" :form === \"update\" ? \"Обновить\" : form === \"sale\" ? \"Добавить скидку\": \"\"}</>\n                   } \n                </button>\n            </div>\n        </form>\n        </ModalContainer>\n    )\n}\n\nconst schema = (form) => Yup.object().shape({\n    name_tm: form === \"sale\" ? Yup.string().nullable(true) : Yup.string().min(5, \"Минимум 5 символов\").max(50, \"максимум 50 символов\").required(\"Обязательно\"),\n    description_tm: form === \"sale\" ? Yup.string().nullable(true) : Yup.string().min(10, \"Минимум 10 символов\").max(50, \"максимум 50 символов\").required(\"Обязательно\"),\n    name_ru: form === \"sale\" ? Yup.string().nullable(true) : Yup.string().min(5, \"Минимум 5 символов\").max(50, \"максимум 50 символов\").required(\"Обязательно\"),\n    description_ru: form === \"sale\" ? Yup.string().nullable(true) : Yup.string().min(10, \"Минимум 10 символов\").max(50, \"максимум 50 символов\").required(\"Обязательно\"),\n    name_en:  form === \"sale\" ? Yup.string().nullable(true) : Yup.string().min(5, \"Минимум 5 символов\").max(50, \"максимум 50 символов\").required(\"Обязательно\"),\n    description_en:  form === \"sale\" ? Yup.string().nullable(true) : Yup.string().min(10, \"Минимум 10 символов\").max(50, \"максимум 50 символов\").required(\"Обязательно\"),\n    price: form === \"sale\" ? Yup.string().nullable(true) : Yup.number().min(0).max(100000, 'максимум 1000000').required(\"Обязательное поле\"),\n    stock: form === \"sale\" ? Yup.string().nullable(true) : Yup.number().min(0).max(100000, 'максимум 1000000').required(\"Обязательное поле\"),\n    producer_id: form === \"sale\" ? Yup.string().nullable(true) : Yup.number().min(1, \"Обязательлное поле\").required(\"Обязательлное поле\"),\n    category_id: form === \"sale\" ? Yup.string().nullable(true) : Yup.number().min(1, \"Обязательлное поле\").required(\"Обязательлное поле\"),\n    product_id: form === \"sale\" ? Yup.number().required() : Yup.string().nullable(true)\n})\n\nexport default Form;","import IconButton from \"../../components/IconButton\";\nimport {IoMdAdd} from \"@react-icons/all-files/io/IoMdAdd\"\nimport SearchInput from \"../../components/SearchInput\";\nimport Layout from \"../../components/Layout\";\nimport { useEffect, useReducer } from \"react\";\nimport Form from \"./Form\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport BgLoader from \"../../components/BgLoader\"\nimport { get } from \"../../application/middlewares\";\nimport toast from \"react-hot-toast\";\nimport Table from \"../../components/Table/Table\"\nimport Head from \"../../components/Table/Head\"\nimport Row from \"../../components/Table/Row\"\nimport Cell from \"../../components/Table/Cell\"\nimport Body from \"../../components/Table/Body\"\nimport {BsImage} from \"@react-icons/all-files/bs/BsImage\"\nimport NoContent from \"../../components/NoContent\"\nimport { BiEdit } from \"@react-icons/all-files/bi/BiEdit\";\nimport {FcSalesPerformance} from \"@react-icons/all-files/fc/FcSalesPerformance\"\n\nfunction reducer (state, action){\n    // console.log(action)\n    switch(action.type){\n        case \"ADD_FORM\":\n            return {\n                ...state,\n                visible:true,\n                form:\"add\",\n                values:\"\",\n                title:\"Форма добавления\"\n            }\n        case \"SET_CLOSE_MODAL\":\n            return {\n                ...state, \n                visible:false,\n                form:\"\"\n            }\n        case \"SET_DATA\":\n            return{\n                ...state,\n                data:action.payload.products,\n                count:action.payload.count,\n                loading:false\n            }\n        case \"SET_LOADING\":\n            return {\n                ...state,\n                loading:action.payload\n            }\n        case \"UPDATE_FORM\":\n            return{\n                ...state,\n                visible:true,\n                values:action.payload,\n                form:\"update\",\n                title:'Форма обновления'\n            }\n        case \"ADD_PRODUCT\":\n            return{\n                ...state,\n                data:[...state.data, action.payload],\n\n            }\n        case \"SET_UPLOADED_IMAGE\":\n            return {\n                ...state,\n                data:state.data.map(item => {\n                    if(item.id === action.payload.id){\n                        item.destination = action.payload.destination\n                    }return item\n                }),\n                visible:false\n            }\n        case \"SALE_FORM\":\n            return {\n                ...state, \n                form:\"sale\",\n                visible:true,\n                title:\"Форма добавления скидки\",\n                values:action.payload\n            }\n        case \"UPDATE_PRODUCT\":\n            return{\n                ...state,\n                data:state.data.map(item => {\n                    if(item.id === +action.payload.id){\n                        item = action.payload;\n                    }return item;\n                }),\n                visible:false\n            }\n        default: return state\n    }\n}\n\nfunction Products (){\n\n    const [state, setState] = useReducer(reducer, {\n        visible:false, form:\"\", title:\"\",  data:[], page:0, \n        limit:30, count:0, values:\"\", loading:true\n    })\n\n    const dispatch = useDispatch()\n    const token = useSelector(state => state.auth.token)\n\n\n    useEffect(()=>{\n        dispatch(get({\n            url:`api/admin/products`,\n            token,\n            action: (response) =>{\n                if(response.success){\n                    setState({type:\"SET_DATA\", payload:response.data.rows})\n                }else{\n                    toast.error(\"Неизвестная ошибка\")\n                    setState({type:\"SET_LOADING\", payload:false})\n                }  \n            }\n        }))\n    }, []) // eslint-disable-line react-hooks/exhaustive-deps\n\n    \n    return (\n        <Layout header = {<Header handleClick = {()=>setState({type:\"ADD_FORM\", payload:\"\"})} />}>\n            <Form\n                visible = {state.visible}\n                title = {state.title}\n                form = {state.form}\n                token = {token}\n                values = {state.values}\n                setCloseModal = {()=>setState({type:\"SET_CLOSE_MODAL\", payload:\"\"})}\n                addedProduct = {(value) => setState({type:\"ADD_PRODUCT\", payload:value})}\n                setUploadedImage = {(value)=>setState({type:\"SET_UPLOADED_IMAGE\", payload:value})}\n                updateProduct = {(value) => setState({type:\"UPDATE_PRODUCT\", payload:value})}\n            />\n            <BgLoader loading = {state.loading}/>\n            <div className=\"w-full h-full px-6 overflow-y-auto pb-20 \">\n                <Table>\n                    <Head>\n                        <Row>\n                            <>\n                            <Cell>\n                                <div  className={` px-2 py-4 font-medium flex flex-row justify-start items-center `}>\n                                    ID\n                                </div>\n                            </Cell>\n                            <Cell>\n                                <div  className={` px-2 py-4 font-medium flex flex-row justify-start items-center `}>\n                                    Имя продукта\n                                </div>\n                            </Cell>\n                            <Cell>\n                                <div  className={` px-2 py-4 font-medium flex flex-row justify-start items-center `}>\n                                    Цена\n                                </div>\n                            </Cell>\n                            <Cell>\n                                <div  className={` px-2 py-4 font-medium flex flex-row justify-start items-center `}>\n                                    Остаток\n                                </div>\n                            </Cell>\n                            <Cell>\n                                <div  className={` px-2 py-4 font-medium flex flex-row justify-start items-center `}>\n                                    Производитель\n                                </div>\n                            </Cell>\n                            <Cell>\n                                <div  className={` px-2 py-4 font-medium flex flex-row justify-start items-center `}>\n                                    Категория\n                                </div>\n                            </Cell>\n                            <Cell>\n                                <div  className={` px-2 py-4 font-medium flex flex-row justify-start items-center `}>\n                                    Фотография  \n                                </div>\n                            </Cell>\n                            <Cell>\n                                <div  className={` px-2 py-4 font-medium flex flex-row justify-start items-center `}>\n                                    Действие\n                                </div>\n                            </Cell>\n                            </>\n                        </Row>\n                    </Head>\n                    <Body>\n                    {state.data?.length > 0 \n                    ?\n                        state.data.map(item => (\n                            <Row key ={item?.id}>\n                                <>\n                                <Cell>\n                                    <div className = \"p-2\">\n                                        {item?.id}\n                                    </div>\n                                </Cell>\n                                <Cell>\n                                    <div className = \"p-2\">\n                                        {item?.name_ru}\n                                    </div>\n                                </Cell>\n                                <Cell>\n                                    <div className = \"p-2\">\n                                        {item?.price}\n                                    </div>\n                                </Cell>\n                                <Cell>\n                                    <div className = \"p-2\">\n                                        {item?.stock}\n                                    </div>\n                                </Cell>\n                                <Cell>\n                                    <div className = \"p-2\">\n                                        {item?.producer_name}\n                                    </div>\n                                </Cell>\n                                <Cell>\n                                    <div className = \"p-2\">\n                                        {item?.category_name}\n                                    </div>\n                                </Cell>\n                                <Cell>\n                                    <div className=\"p-2 flex justify-center items-center\">\n                                        {item?.destination ? <img className=\"object-contain rounded-md w-28 h-28\" src={`${process.env.REACT_APP_FILE_URL}/${item?.destination}-big.webp`} alt=\"CTYPES\" />: <BsImage className=\"text-4xl text-gray-500 opacity-80\"/>}\n                                    </div>\n                                </Cell>\n                                <Cell>\n                                    <div className = \"p-2 flex flex-row\">\n                                        <IconButton tooltip = {\"Изменить\"} handleClick = {()=>setState({type:\"UPDATE_FORM\", payload:item})} icon = {<BiEdit className = \"text-2xl\"/>}/>\n                                        <IconButton tooltip = {\"Скидки\"} handleClick = {()=>setState({type:\"SALE_FORM\", payload:item})} icon = {<FcSalesPerformance className = \"text-2xl\"/>}/>\n                                    </div>\n                                </Cell>\n                            </>\n                        </Row>\n                        ))\n                    :\n                        <>\n                        <tr>\n                            <td colSpan=\"10\" >\n                                <div className=\"flex w-full h-full py-20 justify-center items-center\">\n                                    <NoContent title=\"Нет продуктов\"/>\n                                </div>\n                            </td>\n                        </tr>\n                        </>\n                    }\n                    </Body>\n                </Table>\n            </div>\n        </Layout>\n    )\n}\n\nconst Header = ({handleClick, handleSearch}) =>(\n    <div className=\"flex flex-row justify-between items-center\">\n        <IconButton tooltip = \"Добавить продукт\" handleClick={handleClick} icon={<IoMdAdd className=\"text-2xl \"/>}/>\n        <div className=\"w-80\">\n            <SearchInput action={(value) => handleSearch(value)} placeholder=\"Поиск\"/>\n        </div>\n    </div>\n);\n\n\nexport default Products","// THIS FILE IS AUTO GENERATED\nvar GenIcon = require('../lib').GenIcon\nmodule.exports.BsImage = function BsImage (props) {\n  return GenIcon({\"tag\":\"svg\",\"attr\":{\"viewBox\":\"0 0 16 16\",\"fill\":\"currentColor\"},\"child\":[{\"tag\":\"path\",\"attr\":{\"fillRule\":\"evenodd\",\"d\":\"M14.002 2h-12a1 1 0 00-1 1v10a1 1 0 001 1h12a1 1 0 001-1V3a1 1 0 00-1-1zm-12-1a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V3a2 2 0 00-2-2h-12z\",\"clipRule\":\"evenodd\"}},{\"tag\":\"path\",\"attr\":{\"d\":\"M10.648 7.646a.5.5 0 01.577-.093L15.002 9.5V14h-14v-2l2.646-2.354a.5.5 0 01.63-.062l2.66 1.773 3.71-3.71z\"}},{\"tag\":\"path\",\"attr\":{\"fillRule\":\"evenodd\",\"d\":\"M4.502 7a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\",\"clipRule\":\"evenodd\"}}]})(props);\n};\n","// THIS FILE IS AUTO GENERATED\nvar GenIcon = require('../lib').GenIcon\nmodule.exports.BiEdit = function BiEdit (props) {\n  return GenIcon({\"tag\":\"svg\",\"attr\":{\"viewBox\":\"0 0 24 24\"},\"child\":[{\"tag\":\"path\",\"attr\":{\"d\":\"M7,17.013l4.413-0.015l9.632-9.54c0.378-0.378,0.586-0.88,0.586-1.414s-0.208-1.036-0.586-1.414l-1.586-1.586\\tc-0.756-0.756-2.075-0.752-2.825-0.003L7,12.583V17.013z M18.045,4.458l1.589,1.583l-1.597,1.582l-1.586-1.585L18.045,4.458z M9,13.417l6.03-5.973l1.586,1.586l-6.029,5.971L9,15.006V13.417z\"}},{\"tag\":\"path\",\"attr\":{\"d\":\"M5,21h14c1.103,0,2-0.897,2-2v-8.668l-2,2V19H8.158c-0.026,0-0.053,0.01-0.079,0.01c-0.033,0-0.066-0.009-0.1-0.01H5V5\\th6.847l2-2H5C3.897,3,3,3.897,3,5v14C3,20.103,3.897,21,5,21z\"}}]})(props);\n};\n"],"sourceRoot":""}